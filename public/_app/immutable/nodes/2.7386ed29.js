import{f as Lt,s as K,c as Vt,u as Ht,g as Ut,d as zt,h as qt,n as J,e as oe,b as ne,i as Qe,o as Se,j as kt,r as It,k as jt,l as me}from"../chunks/scheduler.d303939e.js";import{S as Z,i as ee,g as w,h as R,j as T,f as C,k as v,a as O,y as re,d as A,t as M,z as Ie,A as we,x as E,p as ce,b as fe,s as H,r as z,c as U,u as q,v as j,w as X,B as ge,C as Ue,D as ze,m as W,n as Y,E as ie,o as _e,F as wt,G as Ne,e as ue,H as pe}from"../chunks/index.b95362ef.js";import{w as Pe,d as Xt}from"../chunks/index.57cd3851.js";function ye(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}const Jt=!0,ri=Object.freeze(Object.defineProperty({__proto__:null,prerender:Jt},Symbol.toStringTag,{value:"Module"}));var ae=(i=>(i.RANGE="range",i.SEED="seed",i.TEXTAREA="textarea",i.CHECKBOX="checkbox",i.SELECT="select",i))(ae||{}),Rt=(i=>(i.IMAGE="image",i.VIDEO="video",i.TEXT="text",i))(Rt||{}),Ze=(i=>(i.CONNECTED="connected",i.DISCONNECTED="disconnected",i.WAIT="wait",i.SEND_FRAME="send_frame",i))(Ze||{});const Wt="disconnected",se=Pe(Wt),Le=Pe(null);let Q=null;const ot={async start(i){return new Promise((e,t)=>{try{const a=`${window.location.protocol==="https:"?"wss":"ws"}:${window.location.host}/ws`;Q=new WebSocket(a),Q.onopen=()=>{console.log("Connected to websocket")},Q.onclose=()=>{se.set("disconnected"),console.log("Disconnected from websocket")},Q.onerror=r=>{console.error(r)},Q.onmessage=r=>{const o=JSON.parse(r.data);switch(o.status){case"connected":const n=o.userId;se.set("connected"),Le.set(n),e(n);break;case"send_frame":se.set("send_frame");const s=i();Q==null||Q.send(JSON.stringify({status:"next_frame"}));for(const l of s)this.send(l);break;case"wait":se.set("wait");break;case"timeout":console.log("timeout"),se.set("disconnected"),Le.set(null),t("timeout");case"error":console.log(o.message),se.set("disconnected"),Le.set(null),t(o.message)}}}catch(a){console.error(a),se.set("disconnected"),Le.set(null),t(a)}})},send(i){Q&&Q.readyState===WebSocket.OPEN?i instanceof Blob?Q.send(i):Q.send(JSON.stringify(i)):console.log("WebSocket not connected")},async stop(){Q&&Q.close(),Q=null,se.set("disconnected"),Le.set(null)}},te=Pe({}),Yt=Xt(te,(i,e)=>{const t=setTimeout(()=>{e(i)},100);return()=>clearTimeout(t)}),Be=()=>Lt(te);function Qt(i){let e,t,a,r,o;const n=i[4].default,s=Vt(n,i,i[3],null);return{c(){e=w("button"),s&&s.c(),this.h()},l(l){e=R(l,"BUTTON",{class:!0,title:!0});var f=T(e);s&&s.l(f),f.forEach(C),this.h()},h(){v(e,"class",t="button "+i[0]+" svelte-1eet948"),e.disabled=i[1],v(e,"title",i[2])},m(l,f){O(l,e,f),s&&s.m(e,null),a=!0,r||(o=re(e,"click",i[5]),r=!0)},p(l,[f]){s&&s.p&&(!a||f&8)&&Ht(s,n,l,l[3],a?zt(n,l[3],f,null):Ut(l[3]),null),(!a||f&1&&t!==(t="button "+l[0]+" svelte-1eet948"))&&v(e,"class",t),(!a||f&2)&&(e.disabled=l[1]),(!a||f&4)&&v(e,"title",l[2])},i(l){a||(A(s,l),a=!0)},o(l){M(s,l),a=!1},d(l){l&&C(e),s&&s.d(l),r=!1,o()}}}function Kt(i,e,t){let{$$slots:a={},$$scope:r}=e,{classList:o="p-2"}=e,{disabled:n=!1}=e,{title:s=""}=e;function l(f){qt.call(this,i,f)}return i.$$set=f=>{"classList"in f&&t(0,o=f.classList),"disabled"in f&&t(1,n=f.disabled),"title"in f&&t(2,s=f.title),"$$scope"in f&&t(3,r=f.$$scope)},[o,n,s,r,a,l]}class et extends Z{constructor(e){super(),ee(this,e,Kt,Qt,K,{classList:0,disabled:1,title:2})}}function Zt(i){let e,t;return{c(){e=Ie("svg"),t=Ie("path"),this.h()},l(a){e=we(a,"svg",{xmlns:!0,height:!0,viewBox:!0,class:!0});var r=T(e);t=we(r,"path",{fill:!0,d:!0}),T(t).forEach(C),r.forEach(C),this.h()},h(){v(t,"fill","currentColor"),v(t,"d","M48 96v320a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V170.5a16 16 0 0 0-4.7-11.3l33.9-33.9a64 64 0 0 1 18.7 45.3V416a64 64 0 0 1-64 64H64a64 64 0 0 1-64-64V96a64 64 0 0 1 64-64h245.5a64 64 0 0 1 45.3 18.7l74.5 74.5-33.9 33.9-74.6-74.4-.8-.8V184a24 24 0 0 1-24 24H104a24 24 0 0 1-24-24V80H64a16 16 0 0 0-16 16zm80-16v80h144V80H128zm32 240a64 64 0 1 1 128 0 64 64 0 1 1-128 0z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"height","1em"),v(e,"viewBox","0 0 448 512"),v(e,"class",i[0])},m(a,r){O(a,e,r),E(e,t)},p(a,[r]){r&1&&v(e,"class",a[0])},i:J,o:J,d(a){a&&C(e)}}}function en(i,e,t){let{classList:a}=e;return i.$$set=r=>{"classList"in r&&t(0,a=r.classList)},[a]}class tn extends Z{constructor(e){super(),ee(this,e,en,Zt,K,{classList:0})}}var Ke={exports:{}};(function(i,e){(function(){var t={};t.version="1.0.4",t.remove=function(u){var m=!1;if(u.slice(0,2)!="ÿØ")if(u.slice(0,23)=="data:image/jpeg;base64,"||u.slice(0,22)=="data:image/jpg;base64,")u=p(u.split(",")[1]),m=!0;else throw new Error("Given data is not jpeg.");var g=B(u),y=g.filter(function(d){return!(d.slice(0,2)=="ÿá"&&d.slice(4,10)=="Exif\0\0")}),S=y.join("");return m&&(S="data:image/jpeg;base64,"+h(S)),S},t.insert=function(u,m){var g=!1;if(u.slice(0,6)!="Exif\0\0")throw new Error("Given data is not exif.");if(m.slice(0,2)!="ÿØ")if(m.slice(0,23)=="data:image/jpeg;base64,"||m.slice(0,22)=="data:image/jpg;base64,")m=p(m.split(",")[1]),g=!0;else throw new Error("Given data is not jpeg.");var y="ÿá"+c(">H",[u.length+2])+u,S=B(m),d=k(S,y);return g&&(d="data:image/jpeg;base64,"+h(d)),d},t.load=function(u){var m;if(typeof u=="string")if(u.slice(0,2)=="ÿØ")m=u;else if(u.slice(0,23)=="data:image/jpeg;base64,"||u.slice(0,22)=="data:image/jpg;base64,")m=p(u.split(",")[1]);else if(u.slice(0,4)=="Exif")m=u.slice(6);else throw new Error("'load' gots invalid file data.");else throw new Error("'load' gots invalid type argument.");var g={"0th":{},Exif:{},GPS:{},Interop:{},"1st":{},thumbnail:null},y=new b(m);if(y.tiftag===null)return g;y.tiftag.slice(0,2)=="II"?y.endian_mark="<":y.endian_mark=">";var S=_(y.endian_mark+"L",y.tiftag.slice(4,8))[0];g["0th"]=y.get_ifd(S,"0th");var d=g["0th"].first_ifd_pointer;if(delete g["0th"].first_ifd_pointer,34665 in g["0th"]&&(S=g["0th"][34665],g.Exif=y.get_ifd(S,"Exif")),34853 in g["0th"]&&(S=g["0th"][34853],g.GPS=y.get_ifd(S,"GPS")),40965 in g.Exif&&(S=g.Exif[40965],g.Interop=y.get_ifd(S,"Interop")),d!="\0\0\0\0"&&(S=_(y.endian_mark+"L",d)[0],g["1st"]=y.get_ifd(S,"1st"),513 in g["1st"]&&514 in g["1st"])){var L=g["1st"][513]+g["1st"][514],x=y.tiftag.slice(g["1st"][513],L);g.thumbnail=x}return g},t.dump=function(u){var m=8,g=a(u),y="Exif\0\0MM\0*\0\0\0\b",S=!1,d=!1,L=!1,x=!1,G,D,$,N,Re;"0th"in g?G=g["0th"]:G={},"Exif"in g&&Object.keys(g.Exif).length||"Interop"in g&&Object.keys(g.Interop).length?(G[34665]=1,S=!0,D=g.Exif,"Interop"in g&&Object.keys(g.Interop).length?(D[40965]=1,L=!0,$=g.Interop):Object.keys(D).indexOf(t.ExifIFD.InteroperabilityTag.toString())>-1&&delete D[40965]):Object.keys(G).indexOf(t.ImageIFD.ExifTag.toString())>-1&&delete G[34665],"GPS"in g&&Object.keys(g.GPS).length?(G[t.ImageIFD.GPSTag]=1,d=!0,N=g.GPS):Object.keys(G).indexOf(t.ImageIFD.GPSTag.toString())>-1&&delete G[t.ImageIFD.GPSTag],"1st"in g&&"thumbnail"in g&&g.thumbnail!=null&&(x=!0,g["1st"][513]=1,g["1st"][514]=1,Re=g["1st"]);var Ce=f(G,"0th",0),le=Ce[0].length+S*12+d*12+4+Ce[1].length,de,$e="",he=0,Ve,qe="",Ae=0,nt,je="",Xe=0,De,it="",He;if(S&&(de=f(D,"Exif",le),he=de[0].length+L*12+de[1].length),d&&(Ve=f(N,"GPS",le+he),qe=Ve.join(""),Ae=qe.length),L){var Je=le+he+Ae;nt=f($,"Interop",Je),je=nt.join(""),Xe=je.length}if(x){var Je=le+he+Ae+Xe;if(De=f(Re,"1st",Je),He=r(g.thumbnail),He.length>64e3)throw new Error("Given thumbnail is too large. max 64kB")}var at="",rt="",lt="",st="\0\0\0\0";if(S){var ve=m+le,Te=c(">L",[ve]),xe=34665,Ge=c(">H",[xe]),Me=c(">H",[V.Long]),Fe=c(">L",[1]);at=Ge+Me+Fe+Te}if(d){var ve=m+le+he,Te=c(">L",[ve]),xe=34853,Ge=c(">H",[xe]),Me=c(">H",[V.Long]),Fe=c(">L",[1]);rt=Ge+Me+Fe+Te}if(L){var ve=m+le+he+Ae,Te=c(">L",[ve]),xe=40965,Ge=c(">H",[xe]),Me=c(">H",[V.Long]),Fe=c(">L",[1]);lt=Ge+Me+Fe+Te}if(x){var ve=m+le+he+Ae+Xe;st=c(">L",[ve]);var Bt=ve+De[0].length+24+4+De[1].length,Ot="\0\0\0\0"+c(">L",[Bt]),Nt="\0\0\0\0"+c(">L",[He.length]);it=De[0]+Ot+Nt+"\0\0\0\0"+De[1]+He}var $t=Ce[0]+at+rt+st+Ce[1];return S&&($e=de[0]+lt+de[1]),y+$t+$e+qe+je+it};function a(u){return JSON.parse(JSON.stringify(u))}function r(u){for(var m=B(u);"ÿà"<=m[1].slice(0,2)&&m[1].slice(0,2)<="ÿï";)m=[m[0]].concat(m.slice(2));return m.join("")}function o(u){return c(">"+I("B",u.length),u)}function n(u){return c(">"+I("H",u.length),u)}function s(u){return c(">"+I("L",u.length),u)}function l(u,m,g){var y="",S="",d,L,x,G;if(m=="Byte")d=u.length,d<=4?S=o(u)+I("\0",4-d):(S=c(">L",[g]),y=o(u));else if(m=="Short")d=u.length,d<=2?S=n(u)+I("\0\0",2-d):(S=c(">L",[g]),y=n(u));else if(m=="Long")d=u.length,d<=1?S=s(u):(S=c(">L",[g]),y=s(u));else if(m=="Ascii")L=u+"\0",d=L.length,d>4?(S=c(">L",[g]),y=L):S=L+I("\0",4-d);else if(m=="Rational"){if(typeof u[0]=="number")d=1,x=u[0],G=u[1],L=c(">L",[x])+c(">L",[G]);else{d=u.length,L="";for(var D=0;D<d;D++)x=u[D][0],G=u[D][1],L+=c(">L",[x])+c(">L",[G])}S=c(">L",[g]),y=L}else if(m=="SRational"){if(typeof u[0]=="number")d=1,x=u[0],G=u[1],L=c(">l",[x])+c(">l",[G]);else{d=u.length,L="";for(var D=0;D<d;D++)x=u[D][0],G=u[D][1],L+=c(">l",[x])+c(">l",[G])}S=c(">L",[g]),y=L}else m=="Undefined"&&(d=u.length,d>4?(S=c(">L",[g]),y=u):S=u+I("\0",4-d));var $=c(">L",[d]);return[$,S,y]}function f(u,m,g){var y=8,S=Object.keys(u).length,d=c(">H",[S]),L;["0th","1st"].indexOf(m)>-1?L=2+S*12+4:L=2+S*12;var x="",G="",D;for(var D in u)if(typeof D=="string"&&(D=parseInt(D)),!(m=="0th"&&[34665,34853].indexOf(D)>-1)){{if(m=="Exif"&&D==40965)continue;if(m=="1st"&&[513,514].indexOf(D)>-1)continue}var $=u[D],N=c(">H",[D]),Re=F[m][D].type,Ce=c(">H",[V[Re]]);typeof $=="number"&&($=[$]);var le=y+L+g+G.length,de=l($,Re,le),$e=de[0],he=de[1],Ve=de[2];x+=N+Ce+$e+he,G+=Ve}return[d+x,G]}function b(u){var m,g;if(u.slice(0,2)=="ÿØ")m=B(u),g=P(m),g?this.tiftag=g.slice(10):this.tiftag=null;else if(["II","MM"].indexOf(u.slice(0,2))>-1)this.tiftag=u;else if(u.slice(0,4)=="Exif")this.tiftag=u.slice(6);else throw new Error("Given file is neither JPEG nor TIFF.")}if(b.prototype={get_ifd:function(u,m){var g={},y=_(this.endian_mark+"H",this.tiftag.slice(u,u+2))[0],S=u+2,d;["0th","1st"].indexOf(m)>-1?d="Image":d=m;for(var L=0;L<y;L++){u=S+12*L;var x=_(this.endian_mark+"H",this.tiftag.slice(u,u+2))[0],G=_(this.endian_mark+"H",this.tiftag.slice(u+2,u+4))[0],D=_(this.endian_mark+"L",this.tiftag.slice(u+4,u+8))[0],$=this.tiftag.slice(u+8,u+12),N=[G,D,$];x in F[d]&&(g[x]=this.convert_value(N))}return m=="0th"&&(u=S+12*y,g.first_ifd_pointer=this.tiftag.slice(u,u+4)),g},convert_value:function(u){var m=null,g=u[0],y=u[1],S=u[2],d;if(g==1)y>4?(d=_(this.endian_mark+"L",S)[0],m=_(this.endian_mark+I("B",y),this.tiftag.slice(d,d+y))):m=_(this.endian_mark+I("B",y),S.slice(0,y));else if(g==2)y>4?(d=_(this.endian_mark+"L",S)[0],m=this.tiftag.slice(d,d+y-1)):m=S.slice(0,y-1);else if(g==3)y>2?(d=_(this.endian_mark+"L",S)[0],m=_(this.endian_mark+I("H",y),this.tiftag.slice(d,d+y*2))):m=_(this.endian_mark+I("H",y),S.slice(0,y*2));else if(g==4)y>1?(d=_(this.endian_mark+"L",S)[0],m=_(this.endian_mark+I("L",y),this.tiftag.slice(d,d+y*4))):m=_(this.endian_mark+I("L",y),S);else if(g==5)if(d=_(this.endian_mark+"L",S)[0],y>1){m=[];for(var L=0;L<y;L++)m.push([_(this.endian_mark+"L",this.tiftag.slice(d+L*8,d+4+L*8))[0],_(this.endian_mark+"L",this.tiftag.slice(d+4+L*8,d+8+L*8))[0]])}else m=[_(this.endian_mark+"L",this.tiftag.slice(d,d+4))[0],_(this.endian_mark+"L",this.tiftag.slice(d+4,d+8))[0]];else if(g==7)y>4?(d=_(this.endian_mark+"L",S)[0],m=this.tiftag.slice(d,d+y)):m=S.slice(0,y);else if(g==9)y>1?(d=_(this.endian_mark+"L",S)[0],m=_(this.endian_mark+I("l",y),this.tiftag.slice(d,d+y*4))):m=_(this.endian_mark+I("l",y),S);else if(g==10)if(d=_(this.endian_mark+"L",S)[0],y>1){m=[];for(var L=0;L<y;L++)m.push([_(this.endian_mark+"l",this.tiftag.slice(d+L*8,d+4+L*8))[0],_(this.endian_mark+"l",this.tiftag.slice(d+4+L*8,d+8+L*8))[0]])}else m=[_(this.endian_mark+"l",this.tiftag.slice(d,d+4))[0],_(this.endian_mark+"l",this.tiftag.slice(d+4,d+8))[0]];else throw new Error("Exif might be wrong. Got incorrect value type to decode. type:"+g);return m instanceof Array&&m.length==1?m[0]:m}},typeof window<"u"&&typeof window.btoa=="function")var h=window.btoa;if(typeof h>"u")var h=function(m){for(var g="",y,S,d,L,x,G,D,$=0,N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";$<m.length;)y=m.charCodeAt($++),S=m.charCodeAt($++),d=m.charCodeAt($++),L=y>>2,x=(y&3)<<4|S>>4,G=(S&15)<<2|d>>6,D=d&63,isNaN(S)?G=D=64:isNaN(d)&&(D=64),g=g+N.charAt(L)+N.charAt(x)+N.charAt(G)+N.charAt(D);return g};if(typeof window<"u"&&typeof window.atob=="function")var p=window.atob;if(typeof p>"u")var p=function(m){var g="",y,S,d,L,x,G,D,$=0,N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(m=m.replace(/[^A-Za-z0-9\+\/\=]/g,"");$<m.length;)L=N.indexOf(m.charAt($++)),x=N.indexOf(m.charAt($++)),G=N.indexOf(m.charAt($++)),D=N.indexOf(m.charAt($++)),y=L<<2|x>>4,S=(x&15)<<4|G>>2,d=(G&3)<<6|D,g=g+String.fromCharCode(y),G!=64&&(g=g+String.fromCharCode(S)),D!=64&&(g=g+String.fromCharCode(d));return g};function c(u,m){if(!(m instanceof Array))throw new Error("'pack' error. Got invalid type argument.");if(u.length-1!=m.length)throw new Error("'pack' error. "+(u.length-1)+" marks, "+m.length+" elements.");var g;if(u[0]=="<")g=!0;else if(u[0]==">")g=!1;else throw new Error("");for(var y="",S=1,d=null,L=null,x=null;L=u[S];){if(L.toLowerCase()=="b"){if(d=m[S-1],L=="b"&&d<0&&(d+=256),d>255||d<0)throw new Error("'pack' error.");x=String.fromCharCode(d)}else if(L=="H"){if(d=m[S-1],d>65535||d<0)throw new Error("'pack' error.");x=String.fromCharCode(Math.floor(d%65536/256))+String.fromCharCode(d%256),g&&(x=x.split("").reverse().join(""))}else if(L.toLowerCase()=="l"){if(d=m[S-1],L=="l"&&d<0&&(d+=4294967296),d>4294967295||d<0)throw new Error("'pack' error.");x=String.fromCharCode(Math.floor(d/16777216))+String.fromCharCode(Math.floor(d%16777216/65536))+String.fromCharCode(Math.floor(d%65536/256))+String.fromCharCode(d%256),g&&(x=x.split("").reverse().join(""))}else throw new Error("'pack' error.");y+=x,S+=1}return y}function _(u,m){if(typeof m!="string")throw new Error("'unpack' error. Got invalid type argument.");for(var g=0,y=1;y<u.length;y++)if(u[y].toLowerCase()=="b")g+=1;else if(u[y].toLowerCase()=="h")g+=2;else if(u[y].toLowerCase()=="l")g+=4;else throw new Error("'unpack' error. Got invalid mark.");if(g!=m.length)throw new Error("'unpack' error. Mismatch between symbol and string length. "+g+":"+m.length);var S;if(u[0]=="<")S=!0;else if(u[0]==">")S=!1;else throw new Error("'unpack' error.");for(var d=[],L=0,x=1,G=null,D=null,$=null,N="";D=u[x];){if(D.toLowerCase()=="b")$=1,N=m.slice(L,L+$),G=N.charCodeAt(0),D=="b"&&G>=128&&(G-=256);else if(D=="H")$=2,N=m.slice(L,L+$),S&&(N=N.split("").reverse().join("")),G=N.charCodeAt(0)*256+N.charCodeAt(1);else if(D.toLowerCase()=="l")$=4,N=m.slice(L,L+$),S&&(N=N.split("").reverse().join("")),G=N.charCodeAt(0)*16777216+N.charCodeAt(1)*65536+N.charCodeAt(2)*256+N.charCodeAt(3),D=="l"&&G>=2147483648&&(G-=4294967296);else throw new Error("'unpack' error. "+D);d.push(G),L+=$,x+=1}return d}function I(u,m){for(var g="",y=0;y<m;y++)g+=u;return g}function B(u){if(u.slice(0,2)!="ÿØ")throw new Error("Given data isn't JPEG.");for(var m=2,g=["ÿØ"];;){if(u.slice(m,m+2)=="ÿÚ"){g.push(u.slice(m));break}else{var y=_(">H",u.slice(m+2,m+4))[0],S=m+y+2;g.push(u.slice(m,S)),m=S}if(m>=u.length)throw new Error("Wrong JPEG data.")}return g}function P(u){for(var m,g=0;g<u.length;g++)if(m=u[g],m.slice(0,2)=="ÿá"&&m.slice(4,10)=="Exif\0\0")return m;return null}function k(u,m){var g=!1,y=[];return u.forEach(function(S,d){S.slice(0,2)=="ÿá"&&S.slice(4,10)=="Exif\0\0"&&(g?y.unshift(d):(u[d]=m,g=!0))}),y.forEach(function(S){u.splice(S,1)}),!g&&m&&(u=[u[0],m].concat(u.slice(1))),u.join("")}var V={Byte:1,Ascii:2,Short:3,Long:4,Rational:5,Undefined:7,SLong:9,SRational:10},F={Image:{11:{name:"ProcessingSoftware",type:"Ascii"},254:{name:"NewSubfileType",type:"Long"},255:{name:"SubfileType",type:"Short"},256:{name:"ImageWidth",type:"Long"},257:{name:"ImageLength",type:"Long"},258:{name:"BitsPerSample",type:"Short"},259:{name:"Compression",type:"Short"},262:{name:"PhotometricInterpretation",type:"Short"},263:{name:"Threshholding",type:"Short"},264:{name:"CellWidth",type:"Short"},265:{name:"CellLength",type:"Short"},266:{name:"FillOrder",type:"Short"},269:{name:"DocumentName",type:"Ascii"},270:{name:"ImageDescription",type:"Ascii"},271:{name:"Make",type:"Ascii"},272:{name:"Model",type:"Ascii"},273:{name:"StripOffsets",type:"Long"},274:{name:"Orientation",type:"Short"},277:{name:"SamplesPerPixel",type:"Short"},278:{name:"RowsPerStrip",type:"Long"},279:{name:"StripByteCounts",type:"Long"},282:{name:"XResolution",type:"Rational"},283:{name:"YResolution",type:"Rational"},284:{name:"PlanarConfiguration",type:"Short"},290:{name:"GrayResponseUnit",type:"Short"},291:{name:"GrayResponseCurve",type:"Short"},292:{name:"T4Options",type:"Long"},293:{name:"T6Options",type:"Long"},296:{name:"ResolutionUnit",type:"Short"},301:{name:"TransferFunction",type:"Short"},305:{name:"Software",type:"Ascii"},306:{name:"DateTime",type:"Ascii"},315:{name:"Artist",type:"Ascii"},316:{name:"HostComputer",type:"Ascii"},317:{name:"Predictor",type:"Short"},318:{name:"WhitePoint",type:"Rational"},319:{name:"PrimaryChromaticities",type:"Rational"},320:{name:"ColorMap",type:"Short"},321:{name:"HalftoneHints",type:"Short"},322:{name:"TileWidth",type:"Short"},323:{name:"TileLength",type:"Short"},324:{name:"TileOffsets",type:"Short"},325:{name:"TileByteCounts",type:"Short"},330:{name:"SubIFDs",type:"Long"},332:{name:"InkSet",type:"Short"},333:{name:"InkNames",type:"Ascii"},334:{name:"NumberOfInks",type:"Short"},336:{name:"DotRange",type:"Byte"},337:{name:"TargetPrinter",type:"Ascii"},338:{name:"ExtraSamples",type:"Short"},339:{name:"SampleFormat",type:"Short"},340:{name:"SMinSampleValue",type:"Short"},341:{name:"SMaxSampleValue",type:"Short"},342:{name:"TransferRange",type:"Short"},343:{name:"ClipPath",type:"Byte"},344:{name:"XClipPathUnits",type:"Long"},345:{name:"YClipPathUnits",type:"Long"},346:{name:"Indexed",type:"Short"},347:{name:"JPEGTables",type:"Undefined"},351:{name:"OPIProxy",type:"Short"},512:{name:"JPEGProc",type:"Long"},513:{name:"JPEGInterchangeFormat",type:"Long"},514:{name:"JPEGInterchangeFormatLength",type:"Long"},515:{name:"JPEGRestartInterval",type:"Short"},517:{name:"JPEGLosslessPredictors",type:"Short"},518:{name:"JPEGPointTransforms",type:"Short"},519:{name:"JPEGQTables",type:"Long"},520:{name:"JPEGDCTables",type:"Long"},521:{name:"JPEGACTables",type:"Long"},529:{name:"YCbCrCoefficients",type:"Rational"},530:{name:"YCbCrSubSampling",type:"Short"},531:{name:"YCbCrPositioning",type:"Short"},532:{name:"ReferenceBlackWhite",type:"Rational"},700:{name:"XMLPacket",type:"Byte"},18246:{name:"Rating",type:"Short"},18249:{name:"RatingPercent",type:"Short"},32781:{name:"ImageID",type:"Ascii"},33421:{name:"CFARepeatPatternDim",type:"Short"},33422:{name:"CFAPattern",type:"Byte"},33423:{name:"BatteryLevel",type:"Rational"},33432:{name:"Copyright",type:"Ascii"},33434:{name:"ExposureTime",type:"Rational"},34377:{name:"ImageResources",type:"Byte"},34665:{name:"ExifTag",type:"Long"},34675:{name:"InterColorProfile",type:"Undefined"},34853:{name:"GPSTag",type:"Long"},34857:{name:"Interlace",type:"Short"},34858:{name:"TimeZoneOffset",type:"Long"},34859:{name:"SelfTimerMode",type:"Short"},37387:{name:"FlashEnergy",type:"Rational"},37388:{name:"SpatialFrequencyResponse",type:"Undefined"},37389:{name:"Noise",type:"Undefined"},37390:{name:"FocalPlaneXResolution",type:"Rational"},37391:{name:"FocalPlaneYResolution",type:"Rational"},37392:{name:"FocalPlaneResolutionUnit",type:"Short"},37393:{name:"ImageNumber",type:"Long"},37394:{name:"SecurityClassification",type:"Ascii"},37395:{name:"ImageHistory",type:"Ascii"},37397:{name:"ExposureIndex",type:"Rational"},37398:{name:"TIFFEPStandardID",type:"Byte"},37399:{name:"SensingMethod",type:"Short"},40091:{name:"XPTitle",type:"Byte"},40092:{name:"XPComment",type:"Byte"},40093:{name:"XPAuthor",type:"Byte"},40094:{name:"XPKeywords",type:"Byte"},40095:{name:"XPSubject",type:"Byte"},50341:{name:"PrintImageMatching",type:"Undefined"},50706:{name:"DNGVersion",type:"Byte"},50707:{name:"DNGBackwardVersion",type:"Byte"},50708:{name:"UniqueCameraModel",type:"Ascii"},50709:{name:"LocalizedCameraModel",type:"Byte"},50710:{name:"CFAPlaneColor",type:"Byte"},50711:{name:"CFALayout",type:"Short"},50712:{name:"LinearizationTable",type:"Short"},50713:{name:"BlackLevelRepeatDim",type:"Short"},50714:{name:"BlackLevel",type:"Rational"},50715:{name:"BlackLevelDeltaH",type:"SRational"},50716:{name:"BlackLevelDeltaV",type:"SRational"},50717:{name:"WhiteLevel",type:"Short"},50718:{name:"DefaultScale",type:"Rational"},50719:{name:"DefaultCropOrigin",type:"Short"},50720:{name:"DefaultCropSize",type:"Short"},50721:{name:"ColorMatrix1",type:"SRational"},50722:{name:"ColorMatrix2",type:"SRational"},50723:{name:"CameraCalibration1",type:"SRational"},50724:{name:"CameraCalibration2",type:"SRational"},50725:{name:"ReductionMatrix1",type:"SRational"},50726:{name:"ReductionMatrix2",type:"SRational"},50727:{name:"AnalogBalance",type:"Rational"},50728:{name:"AsShotNeutral",type:"Short"},50729:{name:"AsShotWhiteXY",type:"Rational"},50730:{name:"BaselineExposure",type:"SRational"},50731:{name:"BaselineNoise",type:"Rational"},50732:{name:"BaselineSharpness",type:"Rational"},50733:{name:"BayerGreenSplit",type:"Long"},50734:{name:"LinearResponseLimit",type:"Rational"},50735:{name:"CameraSerialNumber",type:"Ascii"},50736:{name:"LensInfo",type:"Rational"},50737:{name:"ChromaBlurRadius",type:"Rational"},50738:{name:"AntiAliasStrength",type:"Rational"},50739:{name:"ShadowScale",type:"SRational"},50740:{name:"DNGPrivateData",type:"Byte"},50741:{name:"MakerNoteSafety",type:"Short"},50778:{name:"CalibrationIlluminant1",type:"Short"},50779:{name:"CalibrationIlluminant2",type:"Short"},50780:{name:"BestQualityScale",type:"Rational"},50781:{name:"RawDataUniqueID",type:"Byte"},50827:{name:"OriginalRawFileName",type:"Byte"},50828:{name:"OriginalRawFileData",type:"Undefined"},50829:{name:"ActiveArea",type:"Short"},50830:{name:"MaskedAreas",type:"Short"},50831:{name:"AsShotICCProfile",type:"Undefined"},50832:{name:"AsShotPreProfileMatrix",type:"SRational"},50833:{name:"CurrentICCProfile",type:"Undefined"},50834:{name:"CurrentPreProfileMatrix",type:"SRational"},50879:{name:"ColorimetricReference",type:"Short"},50931:{name:"CameraCalibrationSignature",type:"Byte"},50932:{name:"ProfileCalibrationSignature",type:"Byte"},50934:{name:"AsShotProfileName",type:"Byte"},50935:{name:"NoiseReductionApplied",type:"Rational"},50936:{name:"ProfileName",type:"Byte"},50937:{name:"ProfileHueSatMapDims",type:"Long"},50938:{name:"ProfileHueSatMapData1",type:"Float"},50939:{name:"ProfileHueSatMapData2",type:"Float"},50940:{name:"ProfileToneCurve",type:"Float"},50941:{name:"ProfileEmbedPolicy",type:"Long"},50942:{name:"ProfileCopyright",type:"Byte"},50964:{name:"ForwardMatrix1",type:"SRational"},50965:{name:"ForwardMatrix2",type:"SRational"},50966:{name:"PreviewApplicationName",type:"Byte"},50967:{name:"PreviewApplicationVersion",type:"Byte"},50968:{name:"PreviewSettingsName",type:"Byte"},50969:{name:"PreviewSettingsDigest",type:"Byte"},50970:{name:"PreviewColorSpace",type:"Long"},50971:{name:"PreviewDateTime",type:"Ascii"},50972:{name:"RawImageDigest",type:"Undefined"},50973:{name:"OriginalRawFileDigest",type:"Undefined"},50974:{name:"SubTileBlockSize",type:"Long"},50975:{name:"RowInterleaveFactor",type:"Long"},50981:{name:"ProfileLookTableDims",type:"Long"},50982:{name:"ProfileLookTableData",type:"Float"},51008:{name:"OpcodeList1",type:"Undefined"},51009:{name:"OpcodeList2",type:"Undefined"},51022:{name:"OpcodeList3",type:"Undefined"}},Exif:{33434:{name:"ExposureTime",type:"Rational"},33437:{name:"FNumber",type:"Rational"},34850:{name:"ExposureProgram",type:"Short"},34852:{name:"SpectralSensitivity",type:"Ascii"},34855:{name:"ISOSpeedRatings",type:"Short"},34856:{name:"OECF",type:"Undefined"},34864:{name:"SensitivityType",type:"Short"},34865:{name:"StandardOutputSensitivity",type:"Long"},34866:{name:"RecommendedExposureIndex",type:"Long"},34867:{name:"ISOSpeed",type:"Long"},34868:{name:"ISOSpeedLatitudeyyy",type:"Long"},34869:{name:"ISOSpeedLatitudezzz",type:"Long"},36864:{name:"ExifVersion",type:"Undefined"},36867:{name:"DateTimeOriginal",type:"Ascii"},36868:{name:"DateTimeDigitized",type:"Ascii"},37121:{name:"ComponentsConfiguration",type:"Undefined"},37122:{name:"CompressedBitsPerPixel",type:"Rational"},37377:{name:"ShutterSpeedValue",type:"SRational"},37378:{name:"ApertureValue",type:"Rational"},37379:{name:"BrightnessValue",type:"SRational"},37380:{name:"ExposureBiasValue",type:"SRational"},37381:{name:"MaxApertureValue",type:"Rational"},37382:{name:"SubjectDistance",type:"Rational"},37383:{name:"MeteringMode",type:"Short"},37384:{name:"LightSource",type:"Short"},37385:{name:"Flash",type:"Short"},37386:{name:"FocalLength",type:"Rational"},37396:{name:"SubjectArea",type:"Short"},37500:{name:"MakerNote",type:"Undefined"},37510:{name:"UserComment",type:"Ascii"},37520:{name:"SubSecTime",type:"Ascii"},37521:{name:"SubSecTimeOriginal",type:"Ascii"},37522:{name:"SubSecTimeDigitized",type:"Ascii"},40960:{name:"FlashpixVersion",type:"Undefined"},40961:{name:"ColorSpace",type:"Short"},40962:{name:"PixelXDimension",type:"Long"},40963:{name:"PixelYDimension",type:"Long"},40964:{name:"RelatedSoundFile",type:"Ascii"},40965:{name:"InteroperabilityTag",type:"Long"},41483:{name:"FlashEnergy",type:"Rational"},41484:{name:"SpatialFrequencyResponse",type:"Undefined"},41486:{name:"FocalPlaneXResolution",type:"Rational"},41487:{name:"FocalPlaneYResolution",type:"Rational"},41488:{name:"FocalPlaneResolutionUnit",type:"Short"},41492:{name:"SubjectLocation",type:"Short"},41493:{name:"ExposureIndex",type:"Rational"},41495:{name:"SensingMethod",type:"Short"},41728:{name:"FileSource",type:"Undefined"},41729:{name:"SceneType",type:"Undefined"},41730:{name:"CFAPattern",type:"Undefined"},41985:{name:"CustomRendered",type:"Short"},41986:{name:"ExposureMode",type:"Short"},41987:{name:"WhiteBalance",type:"Short"},41988:{name:"DigitalZoomRatio",type:"Rational"},41989:{name:"FocalLengthIn35mmFilm",type:"Short"},41990:{name:"SceneCaptureType",type:"Short"},41991:{name:"GainControl",type:"Short"},41992:{name:"Contrast",type:"Short"},41993:{name:"Saturation",type:"Short"},41994:{name:"Sharpness",type:"Short"},41995:{name:"DeviceSettingDescription",type:"Undefined"},41996:{name:"SubjectDistanceRange",type:"Short"},42016:{name:"ImageUniqueID",type:"Ascii"},42032:{name:"CameraOwnerName",type:"Ascii"},42033:{name:"BodySerialNumber",type:"Ascii"},42034:{name:"LensSpecification",type:"Rational"},42035:{name:"LensMake",type:"Ascii"},42036:{name:"LensModel",type:"Ascii"},42037:{name:"LensSerialNumber",type:"Ascii"},42240:{name:"Gamma",type:"Rational"}},GPS:{0:{name:"GPSVersionID",type:"Byte"},1:{name:"GPSLatitudeRef",type:"Ascii"},2:{name:"GPSLatitude",type:"Rational"},3:{name:"GPSLongitudeRef",type:"Ascii"},4:{name:"GPSLongitude",type:"Rational"},5:{name:"GPSAltitudeRef",type:"Byte"},6:{name:"GPSAltitude",type:"Rational"},7:{name:"GPSTimeStamp",type:"Rational"},8:{name:"GPSSatellites",type:"Ascii"},9:{name:"GPSStatus",type:"Ascii"},10:{name:"GPSMeasureMode",type:"Ascii"},11:{name:"GPSDOP",type:"Rational"},12:{name:"GPSSpeedRef",type:"Ascii"},13:{name:"GPSSpeed",type:"Rational"},14:{name:"GPSTrackRef",type:"Ascii"},15:{name:"GPSTrack",type:"Rational"},16:{name:"GPSImgDirectionRef",type:"Ascii"},17:{name:"GPSImgDirection",type:"Rational"},18:{name:"GPSMapDatum",type:"Ascii"},19:{name:"GPSDestLatitudeRef",type:"Ascii"},20:{name:"GPSDestLatitude",type:"Rational"},21:{name:"GPSDestLongitudeRef",type:"Ascii"},22:{name:"GPSDestLongitude",type:"Rational"},23:{name:"GPSDestBearingRef",type:"Ascii"},24:{name:"GPSDestBearing",type:"Rational"},25:{name:"GPSDestDistanceRef",type:"Ascii"},26:{name:"GPSDestDistance",type:"Rational"},27:{name:"GPSProcessingMethod",type:"Undefined"},28:{name:"GPSAreaInformation",type:"Undefined"},29:{name:"GPSDateStamp",type:"Ascii"},30:{name:"GPSDifferential",type:"Short"},31:{name:"GPSHPositioningError",type:"Rational"}},Interop:{1:{name:"InteroperabilityIndex",type:"Ascii"}}};F["0th"]=F.Image,F["1st"]=F.Image,t.TAGS=F,t.ImageIFD={ProcessingSoftware:11,NewSubfileType:254,SubfileType:255,ImageWidth:256,ImageLength:257,BitsPerSample:258,Compression:259,PhotometricInterpretation:262,Threshholding:263,CellWidth:264,CellLength:265,FillOrder:266,DocumentName:269,ImageDescription:270,Make:271,Model:272,StripOffsets:273,Orientation:274,SamplesPerPixel:277,RowsPerStrip:278,StripByteCounts:279,XResolution:282,YResolution:283,PlanarConfiguration:284,GrayResponseUnit:290,GrayResponseCurve:291,T4Options:292,T6Options:293,ResolutionUnit:296,TransferFunction:301,Software:305,DateTime:306,Artist:315,HostComputer:316,Predictor:317,WhitePoint:318,PrimaryChromaticities:319,ColorMap:320,HalftoneHints:321,TileWidth:322,TileLength:323,TileOffsets:324,TileByteCounts:325,SubIFDs:330,InkSet:332,InkNames:333,NumberOfInks:334,DotRange:336,TargetPrinter:337,ExtraSamples:338,SampleFormat:339,SMinSampleValue:340,SMaxSampleValue:341,TransferRange:342,ClipPath:343,XClipPathUnits:344,YClipPathUnits:345,Indexed:346,JPEGTables:347,OPIProxy:351,JPEGProc:512,JPEGInterchangeFormat:513,JPEGInterchangeFormatLength:514,JPEGRestartInterval:515,JPEGLosslessPredictors:517,JPEGPointTransforms:518,JPEGQTables:519,JPEGDCTables:520,JPEGACTables:521,YCbCrCoefficients:529,YCbCrSubSampling:530,YCbCrPositioning:531,ReferenceBlackWhite:532,XMLPacket:700,Rating:18246,RatingPercent:18249,ImageID:32781,CFARepeatPatternDim:33421,CFAPattern:33422,BatteryLevel:33423,Copyright:33432,ExposureTime:33434,ImageResources:34377,ExifTag:34665,InterColorProfile:34675,GPSTag:34853,Interlace:34857,TimeZoneOffset:34858,SelfTimerMode:34859,FlashEnergy:37387,SpatialFrequencyResponse:37388,Noise:37389,FocalPlaneXResolution:37390,FocalPlaneYResolution:37391,FocalPlaneResolutionUnit:37392,ImageNumber:37393,SecurityClassification:37394,ImageHistory:37395,ExposureIndex:37397,TIFFEPStandardID:37398,SensingMethod:37399,XPTitle:40091,XPComment:40092,XPAuthor:40093,XPKeywords:40094,XPSubject:40095,PrintImageMatching:50341,DNGVersion:50706,DNGBackwardVersion:50707,UniqueCameraModel:50708,LocalizedCameraModel:50709,CFAPlaneColor:50710,CFALayout:50711,LinearizationTable:50712,BlackLevelRepeatDim:50713,BlackLevel:50714,BlackLevelDeltaH:50715,BlackLevelDeltaV:50716,WhiteLevel:50717,DefaultScale:50718,DefaultCropOrigin:50719,DefaultCropSize:50720,ColorMatrix1:50721,ColorMatrix2:50722,CameraCalibration1:50723,CameraCalibration2:50724,ReductionMatrix1:50725,ReductionMatrix2:50726,AnalogBalance:50727,AsShotNeutral:50728,AsShotWhiteXY:50729,BaselineExposure:50730,BaselineNoise:50731,BaselineSharpness:50732,BayerGreenSplit:50733,LinearResponseLimit:50734,CameraSerialNumber:50735,LensInfo:50736,ChromaBlurRadius:50737,AntiAliasStrength:50738,ShadowScale:50739,DNGPrivateData:50740,MakerNoteSafety:50741,CalibrationIlluminant1:50778,CalibrationIlluminant2:50779,BestQualityScale:50780,RawDataUniqueID:50781,OriginalRawFileName:50827,OriginalRawFileData:50828,ActiveArea:50829,MaskedAreas:50830,AsShotICCProfile:50831,AsShotPreProfileMatrix:50832,CurrentICCProfile:50833,CurrentPreProfileMatrix:50834,ColorimetricReference:50879,CameraCalibrationSignature:50931,ProfileCalibrationSignature:50932,AsShotProfileName:50934,NoiseReductionApplied:50935,ProfileName:50936,ProfileHueSatMapDims:50937,ProfileHueSatMapData1:50938,ProfileHueSatMapData2:50939,ProfileToneCurve:50940,ProfileEmbedPolicy:50941,ProfileCopyright:50942,ForwardMatrix1:50964,ForwardMatrix2:50965,PreviewApplicationName:50966,PreviewApplicationVersion:50967,PreviewSettingsName:50968,PreviewSettingsDigest:50969,PreviewColorSpace:50970,PreviewDateTime:50971,RawImageDigest:50972,OriginalRawFileDigest:50973,SubTileBlockSize:50974,RowInterleaveFactor:50975,ProfileLookTableDims:50981,ProfileLookTableData:50982,OpcodeList1:51008,OpcodeList2:51009,OpcodeList3:51022,NoiseProfile:51041},t.ExifIFD={ExposureTime:33434,FNumber:33437,ExposureProgram:34850,SpectralSensitivity:34852,ISOSpeedRatings:34855,OECF:34856,SensitivityType:34864,StandardOutputSensitivity:34865,RecommendedExposureIndex:34866,ISOSpeed:34867,ISOSpeedLatitudeyyy:34868,ISOSpeedLatitudezzz:34869,ExifVersion:36864,DateTimeOriginal:36867,DateTimeDigitized:36868,ComponentsConfiguration:37121,CompressedBitsPerPixel:37122,ShutterSpeedValue:37377,ApertureValue:37378,BrightnessValue:37379,ExposureBiasValue:37380,MaxApertureValue:37381,SubjectDistance:37382,MeteringMode:37383,LightSource:37384,Flash:37385,FocalLength:37386,SubjectArea:37396,MakerNote:37500,UserComment:37510,SubSecTime:37520,SubSecTimeOriginal:37521,SubSecTimeDigitized:37522,FlashpixVersion:40960,ColorSpace:40961,PixelXDimension:40962,PixelYDimension:40963,RelatedSoundFile:40964,InteroperabilityTag:40965,FlashEnergy:41483,SpatialFrequencyResponse:41484,FocalPlaneXResolution:41486,FocalPlaneYResolution:41487,FocalPlaneResolutionUnit:41488,SubjectLocation:41492,ExposureIndex:41493,SensingMethod:41495,FileSource:41728,SceneType:41729,CFAPattern:41730,CustomRendered:41985,ExposureMode:41986,WhiteBalance:41987,DigitalZoomRatio:41988,FocalLengthIn35mmFilm:41989,SceneCaptureType:41990,GainControl:41991,Contrast:41992,Saturation:41993,Sharpness:41994,DeviceSettingDescription:41995,SubjectDistanceRange:41996,ImageUniqueID:42016,CameraOwnerName:42032,BodySerialNumber:42033,LensSpecification:42034,LensMake:42035,LensModel:42036,LensSerialNumber:42037,Gamma:42240},t.GPSIFD={GPSVersionID:0,GPSLatitudeRef:1,GPSLatitude:2,GPSLongitudeRef:3,GPSLongitude:4,GPSAltitudeRef:5,GPSAltitude:6,GPSTimeStamp:7,GPSSatellites:8,GPSStatus:9,GPSMeasureMode:10,GPSDOP:11,GPSSpeedRef:12,GPSSpeed:13,GPSTrackRef:14,GPSTrack:15,GPSImgDirectionRef:16,GPSImgDirection:17,GPSMapDatum:18,GPSDestLatitudeRef:19,GPSDestLatitude:20,GPSDestLongitudeRef:21,GPSDestLongitude:22,GPSDestBearingRef:23,GPSDestBearing:24,GPSDestDistanceRef:25,GPSDestDistance:26,GPSProcessingMethod:27,GPSAreaInformation:28,GPSDateStamp:29,GPSDifferential:30,GPSHPositioningError:31},t.InteropIFD={InteroperabilityIndex:1},t.GPSHelper={degToDmsRational:function(u){var m=Math.abs(u),g=m%1*60,y=g%1*60,S=Math.floor(m),d=Math.floor(g),L=Math.round(y*100);return[[S,1],[d,1],[L,100]]},dmsRationalToDeg:function(u,m){var g=m==="S"||m==="W"?-1:1,y=u[0][0]/u[0][1]+u[1][0]/u[1][1]/60+u[2][0]/u[2][1]/3600;return y*g}},i.exports&&(e=i.exports=t),e.piexif=t})()})(Ke,Ke.exports);var Ee=Ke.exports;function nn(i,e){try{const t={},a={},r={};t[Ee.ImageIFD.Make]="LCM Image-to-Image ControNet",t[Ee.ImageIFD.ImageDescription]=`prompt: ${e==null?void 0:e.prompt} | negative_prompt: ${e==null?void 0:e.negative_prompt} | seed: ${e==null?void 0:e.seed} | guidance_scale: ${e==null?void 0:e.guidance_scale}`,t[Ee.ImageIFD.Software]="https://github.com/radames/Real-Time-Latent-Consistency-Model",a[Ee.ExifIFD.DateTimeOriginal]=new Date().toISOString();const o={"0th":t,Exif:a,GPS:r},n=Ee.dump(o),s=document.createElement("canvas");s.width=i.naturalWidth,s.height=i.naturalHeight,s.getContext("2d").drawImage(i,0,0);const f=s.toDataURL("image/jpeg"),b=Ee.insert(n,f),h=document.createElement("a");h.href=b,h.download=`lcm_txt_2_img${Date.now()}.png`,h.click()}catch(t){console.log(t)}}function an(i){let e,t;return{c(){e=w("img"),this.h()},l(a){e=R(a,"IMG",{class:!0,src:!0}),this.h()},h(){v(e,"class","aspect-square w-full rounded-lg"),Qe(e.src,t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=")||v(e,"src",t)},m(a,r){O(a,e,r)},p:J,i:J,o:J,d(a){a&&C(e)}}}function rn(i){let e,t,a,r,o,n;return o=new et({props:{disabled:!i[0],title:"Take Snapshot",classList:"text-sm ml-auto text-white p-1 shadow-lg rounded-lg opacity-50",$$slots:{default:[ln]},$$scope:{ctx:i}}}),o.$on("click",i[3]),{c(){e=w("img"),a=H(),r=w("div"),z(o.$$.fragment),this.h()},l(s){e=R(s,"IMG",{class:!0,src:!0}),a=U(s),r=R(s,"DIV",{class:!0});var l=T(r);q(o.$$.fragment,l),l.forEach(C),this.h()},h(){v(e,"class","aspect-square w-full rounded-lg"),Qe(e.src,t="/stream/"+i[2])||v(e,"src",t),v(r,"class","absolute bottom-1 right-1")},m(s,l){O(s,e,l),i[5](e),O(s,a,l),O(s,r,l),j(o,r,null),n=!0},p(s,l){(!n||l&4&&!Qe(e.src,t="/stream/"+s[2]))&&v(e,"src",t);const f={};l&1&&(f.disabled=!s[0]),l&64&&(f.$$scope={dirty:l,ctx:s}),o.$set(f)},i(s){n||(A(o.$$.fragment,s),n=!0)},o(s){M(o.$$.fragment,s),n=!1},d(s){s&&(C(e),C(a),C(r)),i[5](null),X(o)}}}function ln(i){let e,t;return e=new tn({props:{classList:""}}),{c(){z(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,r){j(e,a,r),t=!0},p:J,i(a){t||(A(e.$$.fragment,a),t=!0)},o(a){M(e.$$.fragment,a),t=!1},d(a){X(e,a)}}}function sn(i){let e,t,a,r;const o=[rn,an],n=[];function s(l,f){return l[0]?0:1}return t=s(i),a=n[t]=o[t](i),{c(){e=w("div"),a.c(),this.h()},l(l){e=R(l,"DIV",{class:!0});var f=T(e);a.l(f),f.forEach(C),this.h()},h(){v(e,"class","relative mx-auto aspect-square max-w-lg self-center overflow-hidden rounded-lg border border-slate-300")},m(l,f){O(l,e,f),n[t].m(e,null),r=!0},p(l,[f]){let b=t;t=s(l),t===b?n[t].p(l,f):(ce(),M(n[b],1,1,()=>{n[b]=null}),fe(),a=n[t],a?a.p(l,f):(a=n[t]=o[t](l),a.c()),A(a,1),a.m(e,null))},i(l){r||(A(a),r=!0)},o(l){M(a),r=!1},d(l){l&&C(e),n[t].d()}}}function on(i,e,t){let a,r,o;oe(i,se,f=>t(4,r=f)),oe(i,Le,f=>t(2,o=f));let n;async function s(){var f,b,h,p;a&&await nn(n,{prompt:(f=Be())==null?void 0:f.prompt,negative_prompt:(b=Be())==null?void 0:b.negative_prompt,seed:(h=Be())==null?void 0:h.seed,guidance_scale:(p=Be())==null?void 0:p.guidance_scale})}function l(f){ne[f?"unshift":"push"](()=>{n=f,t(1,n)})}return i.$$.update=()=>{i.$$.dirty&16&&t(0,a=r!==Ze.DISCONNECTED),i.$$.dirty&1&&console.log("isLCMRunning",a)},[a,n,o,s,r,l]}class cn extends Z{constructor(e){super(),ee(this,e,on,sn,K,{})}}typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(i){const e=performance.now(),t=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,r=(o,n)=>{const s=this.getVideoPlaybackQuality(),l=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames;if(l>a){const f=this.mozFrameDelay||s.totalFrameDelay-t.totalFrameDelay||0,b=n-o;i(n,{presentationTime:n+f*1e3,expectedDisplayTime:n+b,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+b/1e3,presentedFrames:l,processingDuration:f}),delete this._rvfcpolyfillmap[e]}else this._rvfcpolyfillmap[e]=requestAnimationFrame(f=>r(n,f))};return this._rvfcpolyfillmap[e]=requestAnimationFrame(o=>r(e,o)),e},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(i){cancelAnimationFrame(this._rvfcpolyfillmap[i]),delete this._rvfcpolyfillmap[i]});var At=(i=>(i.INIT="init",i.CONNECTED="connected",i.DISCONNECTED="disconnected",i))(At||{});const Dt=Pe({blob:new Blob}),tt=Pe([]),be=Pe("init"),ke=Pe(null),Oe={async enumerateDevices(){await navigator.mediaDevices.enumerateDevices().then(i=>{const e=i.filter(t=>t.kind==="videoinput");tt.set(e)}).catch(i=>{console.error(i)})},async start(i){const e={audio:!1,video:{width:1024,height:1024,deviceId:i}};await navigator.mediaDevices.getUserMedia(e).then(t=>{be.set("connected"),ke.set(t)}).catch(t=>{console.error(`${t.name}: ${t.message}`),be.set("disconnected"),ke.set(null)})},async startScreenCapture(){const i={video:{displaySurface:"window"},audio:!1,surfaceSwitching:"include"};let e=null;try{e=await navigator.mediaDevices.getDisplayMedia(i);const t=e.getVideoTracks()[0];console.log("Track settings:"),console.log(JSON.stringify(t.getSettings(),null,2)),console.log("Track constraints:"),console.log(JSON.stringify(t.getConstraints(),null,2)),be.set("connected"),ke.set(e)}catch(t){console.error(t)}},async switchCamera(i){if(Lt(be)!=="connected")return;const e={audio:!1,video:{width:1024,height:1024,deviceId:i}};await navigator.mediaDevices.getUserMedia(e).then(t=>{be.set("connected"),ke.set(t)}).catch(t=>{console.error(`${t.name}: ${t.message}`)})},async stop(){navigator.mediaDevices.getUserMedia({video:!0}).then(i=>{i.getTracks().forEach(e=>e.stop())}),be.set("disconnected"),ke.set(null)}};function fn(i){let e,t;return{c(){e=Ie("svg"),t=Ie("path"),this.h()},l(a){e=we(a,"svg",{xmlns:!0,viewBox:!0,height:!0,class:!0});var r=T(e);t=we(r,"path",{fill:!0,d:!0}),T(t).forEach(C),r.forEach(C),this.h()},h(){v(t,"fill","currentColor"),v(t,"d","M64 0A64 64 0 0 0 0 64v288a64 64 0 0 0 64 64h176l-10.7 32H160a32 32 0 1 0 0 64h256a32 32 0 1 0 0-64h-69.3L336 416h176a64 64 0 0 0 64-64V64a64 64 0 0 0-64-64H64zm448 64v288H64V64h448z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"viewBox","0 -32 576 576"),v(e,"height","16px"),v(e,"class",i[0])},m(a,r){O(a,e,r),E(e,t)},p(a,[r]){r&1&&v(e,"class",a[0])},i:J,o:J,d(a){a&&C(e)}}}function un(i,e,t){let{classList:a=""}=e;return i.$$set=r=>{"classList"in r&&t(0,a=r.classList)},[a]}class mn extends Z{constructor(e){super(),ee(this,e,un,fn,K,{classList:0})}}function ct(i,e,t){const a=i.slice();return a[5]=e[t],a[7]=t,a}function ft(i){let e,t,a,r=ye(i[1]),o=[];for(let n=0;n<r.length;n+=1)o[n]=ut(ct(i,r,n));return{c(){e=w("select");for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){e=R(n,"SELECT",{id:!0,class:!0});var s=T(e);for(let l=0;l<o.length;l+=1)o[l].l(s);s.forEach(C),this.h()},h(){v(e,"id","devices-list"),v(e,"class","border-1 block cursor-pointer rounded-md border-gray-800 border-opacity-50 bg-slate-100 bg-opacity-30 p-1 font-medium text-white"),i[0]===void 0&&kt(()=>i[3].call(e))},m(n,s){O(n,e,s);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null);Ue(e,i[0],!0),t||(a=[re(e,"change",i[3]),re(e,"change",i[4])],t=!0)},p(n,s){if(s&2){r=ye(n[1]);let l;for(l=0;l<r.length;l+=1){const f=ct(n,r,l);o[l]?o[l].p(f,s):(o[l]=ut(f),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}s&3&&Ue(e,n[0])},d(n){n&&C(e),ze(o,n),t=!1,It(a)}}}function ut(i){let e,t=i[5].label+"",a,r;return{c(){e=w("option"),a=W(t),this.h()},l(o){e=R(o,"OPTION",{});var n=T(e);a=Y(n,t),n.forEach(C),this.h()},h(){e.__value=r=i[5].deviceId,ie(e,e.__value)},m(o,n){O(o,e,n),E(e,a)},p(o,n){n&2&&t!==(t=o[5].label+"")&&_e(a,t),n&2&&r!==(r=o[5].deviceId)&&(e.__value=r,ie(e,e.__value))},d(o){o&&C(e)}}}function pn(i){let e,t,a,r="Share",o,n,s,l,f,b;n=new mn({props:{classList:""}});let h=i[1]&&ft(i);return{c(){e=w("div"),t=w("button"),a=w("span"),a.textContent=r,o=H(),z(n.$$.fragment),s=H(),h&&h.c(),this.h()},l(p){e=R(p,"DIV",{class:!0});var c=T(e);t=R(c,"BUTTON",{title:!0,class:!0});var _=T(t);a=R(_,"SPAN",{"data-svelte-h":!0}),ge(a)!=="svelte-1ahaqi7"&&(a.textContent=r),o=U(_),q(n.$$.fragment,_),_.forEach(C),s=U(c),h&&h.l(c),c.forEach(C),this.h()},h(){v(t,"title","Share your screen"),v(t,"class","border-1 my-1 flex cursor-pointer gap-1 rounded-md border-gray-500 border-opacity-50 bg-slate-100 bg-opacity-30 p-1 font-medium text-white"),v(e,"class","flex items-center justify-center text-xs")},m(p,c){O(p,e,c),E(e,t),E(t,a),E(t,o),j(n,t,null),E(e,s),h&&h.m(e,null),l=!0,f||(b=re(t,"click",i[2]),f=!0)},p(p,[c]){p[1]?h?h.p(p,c):(h=ft(p),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i(p){l||(A(n.$$.fragment,p),l=!0)},o(p){M(n.$$.fragment,p),l=!1},d(p){p&&C(e),X(n),h&&h.d(),f=!1,b()}}}function dn(i,e,t){let a;oe(i,tt,l=>t(1,a=l));let r="";Se(()=>{t(0,r=a[0].deviceId)});const o=()=>Oe.startScreenCapture();function n(){r=wt(this),t(0,r)}const s=()=>Oe.switchCamera(r);return i.$$.update=()=>{i.$$.dirty&2&&console.log(a),i.$$.dirty&1&&console.log(r)},[r,a,o,n,s]}class hn extends Z{constructor(e){super(),ee(this,e,dn,pn,K,{})}}function mt(i){let e,t,a;return t=new hn({}),{c(){e=w("div"),z(t.$$.fragment),this.h()},l(r){e=R(r,"DIV",{class:!0});var o=T(e);q(t.$$.fragment,o),o.forEach(C),this.h()},h(){v(e,"class","absolute bottom-0 right-0 z-10")},m(r,o){O(r,e,o),j(t,e,null),a=!0},i(r){a||(A(t.$$.fragment,r),a=!0)},o(r){M(t.$$.fragment,r),a=!1},d(r){r&&C(e),X(t)}}}function gn(i){let e,t,a,r,o,n,s,l,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 448" class="w-40 p-5 opacity-20"><path fill="currentColor" d="M224 256a128 128 0 1 0 0-256 128 128 0 1 0 0 256zm-45.7 48A178.3 178.3 0 0 0 0 482.3 29.7 29.7 0 0 0 29.7 512h388.6a29.7 29.7 0 0 0 29.7-29.7c0-98.5-79.8-178.3-178.3-178.3h-91.4z"></path></svg>',b,h=i[2].length>0&&mt();return{c(){e=w("div"),t=w("div"),h&&h.c(),a=H(),r=w("video"),o=H(),n=w("canvas"),s=H(),l=w("div"),l.innerHTML=f,this.h()},l(p){e=R(p,"DIV",{class:!0});var c=T(e);t=R(c,"DIV",{class:!0});var _=T(t);h&&h.l(_),a=U(_),r=R(_,"VIDEO",{class:!0}),T(r).forEach(C),o=U(_),n=R(_,"CANVAS",{class:!0}),T(n).forEach(C),_.forEach(C),s=U(c),l=R(c,"DIV",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-gk33v1"&&(l.innerHTML=f),c.forEach(C),this.h()},h(){v(r,"class","pointer-events-none aspect-square w-full object-cover"),r.playsInline=!0,r.autoplay=!0,r.muted=!0,r.loop=!0,v(n,"class","absolute left-0 top-0 aspect-square w-full object-cover"),v(t,"class","relative z-10 aspect-square w-full object-cover"),v(l,"class","absolute left-0 top-0 flex aspect-square w-full items-center justify-center"),v(e,"class","relative mx-auto max-w-lg overflow-hidden rounded-lg border border-slate-300")},m(p,c){O(p,e,c),E(e,t),h&&h.m(t,null),E(t,a),E(t,r),i[5](r),E(t,o),E(t,n),i[6](n),E(e,s),E(e,l),b=!0},p(p,[c]){p[2].length>0?h?c&4&&A(h,1):(h=mt(),h.c(),A(h,1),h.m(t,a)):h&&(ce(),M(h,1,1,()=>{h=null}),fe())},i(p){b||(A(h),b=!0)},o(p){M(h),b=!1},d(p){p&&C(e),h&&h.d(),i[5](null),i[6](null)}}}const We=768,Ye=768;let _n="",vn=0;async function yn(i,e,t,a,r){const o=new OffscreenCanvas(a,r);return o.getContext("2d").drawImage(i,e,t,a,r,0,0,a,r),await o.convertToBlob({type:"image/jpeg",quality:1})}function Sn(i,e,t){let a,r,o;oe(i,be,c=>t(3,a=c)),oe(i,ke,c=>t(4,r=c)),oe(i,tt,c=>t(2,o=c));let n,s,l;const f=1e3/15;Se(()=>{s.getContext("2d"),t(1,s.width=We,s),t(1,s.height=Ye,s)}),jt(()=>{l&&n.cancelVideoFrameCallback(l)});async function b(c,_){if(c-vn<f){l=n.requestVideoFrameCallback(b);return}const I=n.videoWidth,B=n.videoHeight,P=await yn(n,I/2-We/2,B/2-Ye/2,We,Ye);Dt.set({blob:P}),l=n.requestVideoFrameCallback(b)}function h(c){ne[c?"unshift":"push"](()=>{n=c,t(0,n),t(4,r)})}function p(c){ne[c?"unshift":"push"](()=>{s=c,t(1,s)})}return i.$$.update=()=>{i.$$.dirty&17&&n&&t(0,n.srcObject=r,n),i.$$.dirty&9&&a==At.CONNECTED&&(l=n.requestVideoFrameCallback(b))},console.log(_n),[n,s,o,a,r,h,p]}class bn extends Z{constructor(e){super(),ee(this,e,Sn,gn,K,{})}}function Pn(i){var k;let e,t,a=((k=i[1])==null?void 0:k.title)+"",r,o,n,s,l,f,b,h,p,c,_,I,B,P;return{c(){e=w("div"),t=w("label"),r=W(a),n=H(),s=w("input"),c=H(),_=w("input"),this.h()},l(V){e=R(V,"DIV",{class:!0});var F=T(e);t=R(F,"LABEL",{class:!0,for:!0});var u=T(t);r=Y(u,a),u.forEach(C),n=U(F),s=R(F,"INPUT",{class:!0,type:!0,id:!0,name:!0,min:!0,max:!0,step:!0}),c=U(F),_=R(F,"INPUT",{type:!0,step:!0,class:!0}),F.forEach(C),this.h()},h(){var V,F,u,m;v(t,"class","text-sm font-medium"),v(t,"for",o=i[1].id),v(s,"class","col-span-2 h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-300 dark:bg-gray-500"),v(s,"type","range"),v(s,"id",l=i[1].id),v(s,"name",f=i[1].id),v(s,"min",b=(V=i[1])==null?void 0:V.min),v(s,"max",h=(F=i[1])==null?void 0:F.max),v(s,"step",p=((u=i[1])==null?void 0:u.step)??1),v(_,"type","number"),v(_,"step",I=((m=i[1])==null?void 0:m.step)??1),v(_,"class","rounded-md border px-1 py-1 text-center text-xs font-bold dark:text-black"),v(e,"class","grid max-w-md grid-cols-4 items-center gap-3")},m(V,F){O(V,e,F),E(e,t),E(t,r),E(e,n),E(e,s),ie(s,i[0]),E(e,c),E(e,_),ie(_,i[0]),B||(P=[re(s,"change",i[2]),re(s,"input",i[2]),re(_,"input",i[3])],B=!0)},p(V,[F]){var u,m,g,y,S;F&2&&a!==(a=((u=V[1])==null?void 0:u.title)+"")&&_e(r,a),F&2&&o!==(o=V[1].id)&&v(t,"for",o),F&2&&l!==(l=V[1].id)&&v(s,"id",l),F&2&&f!==(f=V[1].id)&&v(s,"name",f),F&2&&b!==(b=(m=V[1])==null?void 0:m.min)&&v(s,"min",b),F&2&&h!==(h=(g=V[1])==null?void 0:g.max)&&v(s,"max",h),F&2&&p!==(p=((y=V[1])==null?void 0:y.step)??1)&&v(s,"step",p),F&1&&ie(s,V[0]),F&2&&I!==(I=((S=V[1])==null?void 0:S.step)??1)&&v(_,"step",I),F&1&&Ne(_.value)!==V[0]&&ie(_,V[0])},i:J,o:J,d(V){V&&C(e),B=!1,It(P)}}}function Cn(i,e,t){let{value:a=8}=e,{params:r}=e;Se(()=>{t(0,a=Number(r==null?void 0:r.default)??8)});function o(){a=Ne(this.value),t(0,a)}function n(){a=Ne(this.value),t(0,a)}return i.$$set=s=>{"value"in s&&t(0,a=s.value),"params"in s&&t(1,r=s.params)},[a,r,o,n]}class Tt extends Z{constructor(e){super(),ee(this,e,Cn,Pn,K,{value:0,params:1})}}function En(i){let e;return{c(){e=W("Rand")},l(t){e=Y(t,"Rand")},m(t,a){O(t,e,a)},d(t){t&&C(e)}}}function Ln(i){let e,t,a="Seed",r,o,n,s,l,f,b;return s=new et({props:{$$slots:{default:[En]},$$scope:{ctx:i}}}),s.$on("click",i[1]),{c(){e=w("div"),t=w("label"),t.textContent=a,r=H(),o=w("input"),n=H(),z(s.$$.fragment),this.h()},l(h){e=R(h,"DIV",{class:!0});var p=T(e);t=R(p,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ge(t)!=="svelte-nnsryo"&&(t.textContent=a),r=U(p),o=R(p,"INPUT",{type:!0,id:!0,name:!0,class:!0}),n=U(p),q(s.$$.fragment,p),p.forEach(C),this.h()},h(){v(t,"class","text-sm font-medium"),v(t,"for","seed"),v(o,"type","number"),v(o,"id","seed"),v(o,"name","seed"),v(o,"class","col-span-2 rounded-md border border-gray-700 p-2 text-right font-light dark:text-black"),v(e,"class","grid max-w-md grid-cols-4 items-center gap-3")},m(h,p){O(h,e,p),E(e,t),E(e,r),E(e,o),ie(o,i[0]),E(e,n),j(s,e,null),l=!0,f||(b=re(o,"input",i[3]),f=!0)},p(h,[p]){p&1&&Ne(o.value)!==h[0]&&ie(o,h[0]);const c={};p&16&&(c.$$scope={dirty:p,ctx:h}),s.$set(c)},i(h){l||(A(s.$$.fragment,h),l=!0)},o(h){M(s.$$.fragment,h),l=!1},d(h){h&&C(e),X(s),f=!1,b()}}}function kn(i,e,t){let{value:a=299792458}=e,{params:r}=e;Se(()=>{t(0,a=Number((r==null?void 0:r.default)??""))});function o(){t(0,a=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))}function n(){a=Ne(this.value),t(0,a)}return i.$$set=s=>{"value"in s&&t(0,a=s.value),"params"in s&&t(2,r=s.params)},[a,o,r,n]}class xt extends Z{constructor(e){super(),ee(this,e,kn,Ln,K,{value:0,params:2})}}function In(i){var p;let e,t,a=((p=i[1])==null?void 0:p.title)+"",r,o,n,s,l,f,b,h;return{c(){e=w("div"),t=w("label"),r=W(a),n=H(),s=w("div"),l=w("textarea"),this.h()},l(c){e=R(c,"DIV",{class:!0});var _=T(e);t=R(_,"LABEL",{class:!0,for:!0});var I=T(t);r=Y(I,a),I.forEach(C),n=U(_),s=R(_,"DIV",{class:!0});var B=T(s);l=R(B,"TEXTAREA",{class:!0,title:!0,placeholder:!0}),T(l).forEach(C),B.forEach(C),_.forEach(C),this.h()},h(){var c,_;v(t,"class","text-sm font-medium"),v(t,"for",o=(c=i[1])==null?void 0:c.title),v(l,"class","mx-1 w-full px-3 py-2 font-light outline-none dark:text-black"),v(l,"title",f=(_=i[1])==null?void 0:_.title),v(l,"placeholder","Add your prompt here..."),v(s,"class","text-normal flex items-center rounded-md border border-gray-700"),v(e,"class","")},m(c,_){O(c,e,_),E(e,t),E(t,r),E(e,n),E(e,s),E(s,l),ie(l,i[0]),b||(h=re(l,"input",i[2]),b=!0)},p(c,[_]){var I,B,P;_&2&&a!==(a=((I=c[1])==null?void 0:I.title)+"")&&_e(r,a),_&2&&o!==(o=(B=c[1])==null?void 0:B.title)&&v(t,"for",o),_&2&&f!==(f=(P=c[1])==null?void 0:P.title)&&v(l,"title",f),_&1&&ie(l,c[0])},i:J,o:J,d(c){c&&C(e),b=!1,h()}}}function wn(i,e,t){let{value:a}=e,{params:r}=e;Se(()=>{t(0,a=String((r==null?void 0:r.default)??""))});function o(){a=this.value,t(0,a)}return i.$$set=n=>{"value"in n&&t(0,a=n.value),"params"in n&&t(1,r=n.params)},[a,r,o]}class Gt extends Z{constructor(e){super(),ee(this,e,wn,In,K,{value:0,params:1})}}function Rn(i){var h;let e,t,a=((h=i[1])==null?void 0:h.title)+"",r,o,n,s,l,f,b;return{c(){e=w("div"),t=w("label"),r=W(a),n=H(),s=w("input"),this.h()},l(p){e=R(p,"DIV",{class:!0});var c=T(e);t=R(c,"LABEL",{class:!0,for:!0});var _=T(t);r=Y(_,a),_.forEach(C),n=U(c),s=R(c,"INPUT",{type:!0,id:!0,class:!0}),c.forEach(C),this.h()},h(){v(t,"class","text-sm font-medium"),v(t,"for",o=i[1].id),v(s,"type","checkbox"),v(s,"id",l=i[1].id),v(s,"class","cursor-pointer"),v(e,"class","grid max-w-md grid-cols-4 items-center justify-items-start gap-3")},m(p,c){O(p,e,c),E(e,t),E(t,r),E(e,n),E(e,s),s.checked=i[0],f||(b=re(s,"change",i[2]),f=!0)},p(p,[c]){var _;c&2&&a!==(a=((_=p[1])==null?void 0:_.title)+"")&&_e(r,a),c&2&&o!==(o=p[1].id)&&v(t,"for",o),c&2&&l!==(l=p[1].id)&&v(s,"id",l),c&1&&(s.checked=p[0])},i:J,o:J,d(p){p&&C(e),f=!1,b()}}}function An(i,e,t){let{value:a=!1}=e,{params:r}=e;Se(()=>{t(0,a=!!(r!=null&&r.default))});function o(){a=this.checked,t(0,a)}return i.$$set=n=>{"value"in n&&t(0,a=n.value),"params"in n&&t(1,r=n.params)},[a,r,o]}class Mt extends Z{constructor(e){super(),ee(this,e,An,Rn,K,{value:0,params:1})}}function pt(i,e,t){const a=i.slice();return a[3]=e[t],a[5]=t,a}function dt(i){let e,t,a,r=ye(i[1].values),o=[];for(let n=0;n<r.length;n+=1)o[n]=ht(pt(i,r,n));return{c(){e=w("select");for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){e=R(n,"SELECT",{id:!0,class:!0});var s=T(e);for(let l=0;l<o.length;l+=1)o[l].l(s);s.forEach(C),this.h()},h(){v(e,"id","model-list"),v(e,"class","cursor-pointer rounded-md border-2 border-gray-500 p-2 font-light dark:text-black"),i[0]===void 0&&kt(()=>i[2].call(e))},m(n,s){O(n,e,s);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null);Ue(e,i[0],!0),t||(a=re(e,"change",i[2]),t=!0)},p(n,s){if(s&2){r=ye(n[1].values);let l;for(l=0;l<r.length;l+=1){const f=pt(n,r,l);o[l]?o[l].p(f,s):(o[l]=ht(f),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}s&3&&Ue(e,n[0])},d(n){n&&C(e),ze(o,n),t=!1,a()}}}function ht(i){let e,t=i[3]+"",a,r;return{c(){e=w("option"),a=W(t),this.h()},l(o){e=R(o,"OPTION",{});var n=T(e);a=Y(n,t),n.forEach(C),this.h()},h(){e.__value=r=i[3],ie(e,e.__value),e.selected=i[5]===0},m(o,n){O(o,e,n),E(e,a)},p(o,n){n&2&&t!==(t=o[3]+"")&&_e(a,t),n&2&&r!==(r=o[3])&&(e.__value=r,ie(e,e.__value))},d(o){o&&C(e)}}}function Dn(i){var s,l;let e,t,a=((s=i[1])==null?void 0:s.title)+"",r,o,n=((l=i[1])==null?void 0:l.values)&&dt(i);return{c(){e=w("div"),t=w("label"),r=W(a),o=H(),n&&n.c(),this.h()},l(f){e=R(f,"DIV",{class:!0});var b=T(e);t=R(b,"LABEL",{for:!0,class:!0});var h=T(t);r=Y(h,a),h.forEach(C),o=U(b),n&&n.l(b),b.forEach(C),this.h()},h(){v(t,"for","model-list"),v(t,"class","text-sm font-medium"),v(e,"class","grid max-w-md grid-cols-4 items-center justify-items-start gap-3")},m(f,b){O(f,e,b),E(e,t),E(t,r),E(e,o),n&&n.m(e,null)},p(f,[b]){var h,p;b&2&&a!==(a=((h=f[1])==null?void 0:h.title)+"")&&_e(r,a),(p=f[1])!=null&&p.values?n?n.p(f,b):(n=dt(f),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:J,o:J,d(f){f&&C(e),n&&n.d()}}}function Tn(i,e,t){let{value:a=""}=e,{params:r}=e;Se(()=>{t(0,a=String(r==null?void 0:r.default))});function o(){a=wt(this),t(0,a),t(1,r)}return i.$$set=n=>{"value"in n&&t(0,a=n.value),"params"in n&&t(1,r=n.params)},[a,r,o]}class Ft extends Z{constructor(e){super(),ee(this,e,Tn,Dn,K,{value:0,params:1})}}function gt(i,e,t){const a=i.slice();return a[14]=e[t],a[15]=e,a[16]=t,a}function _t(i,e,t){const a=i.slice();return a[14]=e[t],a[17]=e,a[18]=t,a}function vt(i){let e,t,a=ye(i[1]),r=[];for(let n=0;n<a.length;n+=1)r[n]=yt(_t(i,a,n));const o=n=>M(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ue()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ue()},m(n,s){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(n,s);O(n,e,s),t=!0},p(n,s){if(s&10){a=ye(n[1]);let l;for(l=0;l<a.length;l+=1){const f=_t(n,a,l);r[l]?(r[l].p(f,s),A(r[l],1)):(r[l]=yt(f),r[l].c(),A(r[l],1),r[l].m(e.parentNode,e))}for(ce(),l=a.length;l<r.length;l+=1)o(l);fe()}},i(n){if(!t){for(let s=0;s<a.length;s+=1)A(r[s]);t=!0}},o(n){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)M(r[s]);t=!1},d(n){n&&C(e),ze(r,n)}}}function xn(i){let e,t,a;function r(n){i[8](n,i[14])}let o={params:i[14]};return i[3][i[14].id]!==void 0&&(o.value=i[3][i[14].id]),e=new Ft({props:o}),ne.push(()=>pe(e,"value",r)),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){j(e,n,s),a=!0},p(n,s){i=n;const l={};s&2&&(l.params=i[14]),!t&&s&10&&(t=!0,l.value=i[3][i[14].id],me(()=>t=!1)),e.$set(l)},i(n){a||(A(e.$$.fragment,n),a=!0)},o(n){M(e.$$.fragment,n),a=!1},d(n){X(e,n)}}}function Gn(i){let e,t,a;function r(n){i[7](n,i[14])}let o={params:i[14]};return i[3][i[14].id]!==void 0&&(o.value=i[3][i[14].id]),e=new Mt({props:o}),ne.push(()=>pe(e,"value",r)),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){j(e,n,s),a=!0},p(n,s){i=n;const l={};s&2&&(l.params=i[14]),!t&&s&10&&(t=!0,l.value=i[3][i[14].id],me(()=>t=!1)),e.$set(l)},i(n){a||(A(e.$$.fragment,n),a=!0)},o(n){M(e.$$.fragment,n),a=!1},d(n){X(e,n)}}}function Mn(i){let e,t,a;function r(n){i[6](n,i[14])}let o={params:i[14]};return i[3][i[14].id]!==void 0&&(o.value=i[3][i[14].id]),e=new Gt({props:o}),ne.push(()=>pe(e,"value",r)),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){j(e,n,s),a=!0},p(n,s){i=n;const l={};s&2&&(l.params=i[14]),!t&&s&10&&(t=!0,l.value=i[3][i[14].id],me(()=>t=!1)),e.$set(l)},i(n){a||(A(e.$$.fragment,n),a=!0)},o(n){M(e.$$.fragment,n),a=!1},d(n){X(e,n)}}}function Fn(i){let e,t,a;function r(n){i[5](n,i[14])}let o={params:i[14]};return i[3][i[14].id]!==void 0&&(o.value=i[3][i[14].id]),e=new xt({props:o}),ne.push(()=>pe(e,"value",r)),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){j(e,n,s),a=!0},p(n,s){i=n;const l={};s&2&&(l.params=i[14]),!t&&s&10&&(t=!0,l.value=i[3][i[14].id],me(()=>t=!1)),e.$set(l)},i(n){a||(A(e.$$.fragment,n),a=!0)},o(n){M(e.$$.fragment,n),a=!1},d(n){X(e,n)}}}function Bn(i){let e,t,a;function r(n){i[4](n,i[14])}let o={params:i[14]};return i[3][i[14].id]!==void 0&&(o.value=i[3][i[14].id]),e=new Tt({props:o}),ne.push(()=>pe(e,"value",r)),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){j(e,n,s),a=!0},p(n,s){i=n;const l={};s&2&&(l.params=i[14]),!t&&s&10&&(t=!0,l.value=i[3][i[14].id],me(()=>t=!1)),e.$set(l)},i(n){a||(A(e.$$.fragment,n),a=!0)},o(n){M(e.$$.fragment,n),a=!1},d(n){X(e,n)}}}function yt(i){let e,t,a,r;const o=[Bn,Fn,Mn,Gn,xn],n=[];function s(l,f){return l[14].field===ae.RANGE?0:l[14].field===ae.SEED?1:l[14].field===ae.TEXTAREA?2:l[14].field===ae.CHECKBOX?3:l[14].field===ae.SELECT?4:-1}return~(e=s(i))&&(t=n[e]=o[e](i)),{c(){t&&t.c(),a=ue()},l(l){t&&t.l(l),a=ue()},m(l,f){~e&&n[e].m(l,f),O(l,a,f),r=!0},p(l,f){let b=e;e=s(l),e===b?~e&&n[e].p(l,f):(t&&(ce(),M(n[b],1,1,()=>{n[b]=null}),fe()),~e?(t=n[e],t?t.p(l,f):(t=n[e]=o[e](l),t.c()),A(t,1),t.m(a.parentNode,a)):t=null)},i(l){r||(A(t),r=!0)},o(l){M(t),r=!1},d(l){l&&C(a),~e&&n[e].d(l)}}}function St(i){let e,t,a=ye(i[2]),r=[];for(let n=0;n<a.length;n+=1)r[n]=bt(gt(i,a,n));const o=n=>M(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ue()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ue()},m(n,s){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(n,s);O(n,e,s),t=!0},p(n,s){if(s&12){a=ye(n[2]);let l;for(l=0;l<a.length;l+=1){const f=gt(n,a,l);r[l]?(r[l].p(f,s),A(r[l],1)):(r[l]=bt(f),r[l].c(),A(r[l],1),r[l].m(e.parentNode,e))}for(ce(),l=a.length;l<r.length;l+=1)o(l);fe()}},i(n){if(!t){for(let s=0;s<a.length;s+=1)A(r[s]);t=!0}},o(n){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)M(r[s]);t=!1},d(n){n&&C(e),ze(r,n)}}}function On(i){let e,t,a;function r(n){i[13](n,i[14])}let o={params:i[14]};return i[3][i[14].id]!==void 0&&(o.value=i[3][i[14].id]),e=new Ft({props:o}),ne.push(()=>pe(e,"value",r)),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){j(e,n,s),a=!0},p(n,s){i=n;const l={};s&4&&(l.params=i[14]),!t&&s&12&&(t=!0,l.value=i[3][i[14].id],me(()=>t=!1)),e.$set(l)},i(n){a||(A(e.$$.fragment,n),a=!0)},o(n){M(e.$$.fragment,n),a=!1},d(n){X(e,n)}}}function Nn(i){let e,t,a;function r(n){i[12](n,i[14])}let o={params:i[14]};return i[3][i[14].id]!==void 0&&(o.value=i[3][i[14].id]),e=new Mt({props:o}),ne.push(()=>pe(e,"value",r)),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){j(e,n,s),a=!0},p(n,s){i=n;const l={};s&4&&(l.params=i[14]),!t&&s&12&&(t=!0,l.value=i[3][i[14].id],me(()=>t=!1)),e.$set(l)},i(n){a||(A(e.$$.fragment,n),a=!0)},o(n){M(e.$$.fragment,n),a=!1},d(n){X(e,n)}}}function $n(i){let e,t,a;function r(n){i[11](n,i[14])}let o={params:i[14]};return i[3][i[14].id]!==void 0&&(o.value=i[3][i[14].id]),e=new Gt({props:o}),ne.push(()=>pe(e,"value",r)),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){j(e,n,s),a=!0},p(n,s){i=n;const l={};s&4&&(l.params=i[14]),!t&&s&12&&(t=!0,l.value=i[3][i[14].id],me(()=>t=!1)),e.$set(l)},i(n){a||(A(e.$$.fragment,n),a=!0)},o(n){M(e.$$.fragment,n),a=!1},d(n){X(e,n)}}}function Vn(i){let e,t,a;function r(n){i[10](n,i[14])}let o={params:i[14]};return i[3][i[14].id]!==void 0&&(o.value=i[3][i[14].id]),e=new xt({props:o}),ne.push(()=>pe(e,"value",r)),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){j(e,n,s),a=!0},p(n,s){i=n;const l={};s&4&&(l.params=i[14]),!t&&s&12&&(t=!0,l.value=i[3][i[14].id],me(()=>t=!1)),e.$set(l)},i(n){a||(A(e.$$.fragment,n),a=!0)},o(n){M(e.$$.fragment,n),a=!1},d(n){X(e,n)}}}function Hn(i){let e,t,a;function r(n){i[9](n,i[14])}let o={params:i[14]};return i[3][i[14].id]!==void 0&&(o.value=i[3][i[14].id]),e=new Tt({props:o}),ne.push(()=>pe(e,"value",r)),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,s){j(e,n,s),a=!0},p(n,s){i=n;const l={};s&4&&(l.params=i[14]),!t&&s&12&&(t=!0,l.value=i[3][i[14].id],me(()=>t=!1)),e.$set(l)},i(n){a||(A(e.$$.fragment,n),a=!0)},o(n){M(e.$$.fragment,n),a=!1},d(n){X(e,n)}}}function bt(i){let e,t,a,r;const o=[Hn,Vn,$n,Nn,On],n=[];function s(l,f){return l[14].field===ae.RANGE?0:l[14].field===ae.SEED?1:l[14].field===ae.TEXTAREA?2:l[14].field===ae.CHECKBOX?3:l[14].field===ae.SELECT?4:-1}return~(e=s(i))&&(t=n[e]=o[e](i)),{c(){t&&t.c(),a=ue()},l(l){t&&t.l(l),a=ue()},m(l,f){~e&&n[e].m(l,f),O(l,a,f),r=!0},p(l,f){let b=e;e=s(l),e===b?~e&&n[e].p(l,f):(t&&(ce(),M(n[b],1,1,()=>{n[b]=null}),fe()),~e?(t=n[e],t?t.p(l,f):(t=n[e]=o[e](l),t.c()),A(t,1),t.m(a.parentNode,a)):t=null)},i(l){r||(A(t),r=!0)},o(l){M(t),r=!1},d(l){l&&C(a),~e&&n[e].d(l)}}}function Un(i){let e,t,a,r,o,n="Advanced Options",s,l,f,b,h=i[1]&&vt(i),p=i[2]&&St(i);return{c(){e=w("div"),t=w("div"),h&&h.c(),a=H(),r=w("details"),o=w("summary"),o.textContent=n,s=H(),l=w("div"),p&&p.c(),this.h()},l(c){e=R(c,"DIV",{class:!0});var _=T(e);t=R(_,"DIV",{class:!0});var I=T(t);h&&h.l(I),I.forEach(C),a=U(_),r=R(_,"DETAILS",{});var B=T(r);o=R(B,"SUMMARY",{class:!0,"data-svelte-h":!0}),ge(o)!=="svelte-uye1v8"&&(o.textContent=n),s=U(B),l=R(B,"DIV",{class:!0});var P=T(l);p&&p.l(P),P.forEach(C),B.forEach(C),_.forEach(C),this.h()},h(){v(t,"class","grid grid-cols-1 items-center gap-3"),v(o,"class","cursor-pointer font-medium"),v(l,"class",f="grid grid-cols-1 items-center gap-3 "+(i[0].length>5?"sm:grid-cols-2":"")),v(e,"class","flex flex-col gap-3")},m(c,_){O(c,e,_),E(e,t),h&&h.m(t,null),E(e,a),E(e,r),E(r,o),E(r,s),E(r,l),p&&p.m(l,null),b=!0},p(c,[_]){c[1]?h?(h.p(c,_),_&2&&A(h,1)):(h=vt(c),h.c(),A(h,1),h.m(t,null)):h&&(ce(),M(h,1,1,()=>{h=null}),fe()),c[2]?p?(p.p(c,_),_&4&&A(p,1)):(p=St(c),p.c(),A(p,1),p.m(l,null)):p&&(ce(),M(p,1,1,()=>{p=null}),fe()),(!b||_&1&&f!==(f="grid grid-cols-1 items-center gap-3 "+(c[0].length>5?"sm:grid-cols-2":"")))&&v(l,"class",f)},i(c){b||(A(h),A(p),b=!0)},o(c){M(h),M(p),b=!1},d(c){c&&C(e),h&&h.d(),p&&p.d()}}}function zn(i,e,t){let a,r,o;oe(i,te,P=>t(3,o=P));let{pipelineParams:n}=e;function s(P,k){i.$$.not_equal(o[k.id],P)&&(o[k.id]=P,te.set(o))}function l(P,k){i.$$.not_equal(o[k.id],P)&&(o[k.id]=P,te.set(o))}function f(P,k){i.$$.not_equal(o[k.id],P)&&(o[k.id]=P,te.set(o))}function b(P,k){i.$$.not_equal(o[k.id],P)&&(o[k.id]=P,te.set(o))}function h(P,k){i.$$.not_equal(o[k.id],P)&&(o[k.id]=P,te.set(o))}function p(P,k){i.$$.not_equal(o[k.id],P)&&(o[k.id]=P,te.set(o))}function c(P,k){i.$$.not_equal(o[k.id],P)&&(o[k.id]=P,te.set(o))}function _(P,k){i.$$.not_equal(o[k.id],P)&&(o[k.id]=P,te.set(o))}function I(P,k){i.$$.not_equal(o[k.id],P)&&(o[k.id]=P,te.set(o))}function B(P,k){i.$$.not_equal(o[k.id],P)&&(o[k.id]=P,te.set(o))}return i.$$set=P=>{"pipelineParams"in P&&t(0,n=P.pipelineParams)},i.$$.update=()=>{i.$$.dirty&1&&t(2,a=n==null?void 0:n.filter(P=>(P==null?void 0:P.hide)==!0)),i.$$.dirty&1&&t(1,r=n==null?void 0:n.filter(P=>(P==null?void 0:P.hide)!==!0))},[n,r,a,o,s,l,f,b,h,p,c,_,I,B]}class qn extends Z{constructor(e){super(),ee(this,e,zn,Un,K,{pipelineParams:0})}}function jn(i){let e,t;return{c(){e=Ie("svg"),t=Ie("path"),this.h()},l(a){e=we(a,"svg",{xmlns:!0,height:!0,viewBox:!0,class:!0});var r=T(e);t=we(r,"path",{fill:!0,d:!0}),T(t).forEach(C),r.forEach(C),this.h()},h(){v(t,"fill","currentColor"),v(t,"d","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"height","1em"),v(e,"viewBox","0 0 512 512"),v(e,"class",i[0])},m(a,r){O(a,e,r),E(e,t)},p(a,[r]){r&1&&v(e,"class",a[0])},i:J,o:J,d(a){a&&C(e)}}}function Xn(i,e,t){let{classList:a}=e;return i.$$set=r=>{"classList"in r&&t(0,a=r.classList)},[a]}class Jn extends Z{constructor(e){super(),ee(this,e,Xn,jn,K,{classList:0})}}function Pt(i){var r,o;let e,t=((o=(r=i[1])==null?void 0:r.title)==null?void 0:o.default)+"",a;return{c(){e=w("h3"),a=W(t),this.h()},l(n){e=R(n,"H3",{class:!0});var s=T(e);a=Y(s,t),s.forEach(C),this.h()},h(){v(e,"class","text-xl font-bold")},m(n,s){O(n,e,s),E(e,a)},p(n,s){var l,f;s&2&&t!==(t=((f=(l=n[1])==null?void 0:l.title)==null?void 0:f.default)+"")&&_e(a,t)},d(n){n&&C(e)}}}function Ct(i){let e,t,a,r,o,n,s,l,f="Duplicate",b;return{c(){e=w("p"),t=W("There are "),a=w("span"),r=W(i[4]),o=W(`
        user(s) sharing the same GPU, affecting real-time performance. Maximum queue size is `),n=W(i[3]),s=W(`.
        `),l=w("a"),l.textContent=f,b=W(" and run it on your own GPU."),this.h()},l(h){e=R(h,"P",{class:!0});var p=T(e);t=Y(p,"There are "),a=R(p,"SPAN",{id:!0,class:!0});var c=T(a);r=Y(c,i[4]),c.forEach(C),o=Y(p,`
        user(s) sharing the same GPU, affecting real-time performance. Maximum queue size is `),n=Y(p,i[3]),s=Y(p,`.
        `),l=R(p,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-10aq8mu"&&(l.textContent=f),b=Y(p," and run it on your own GPU."),p.forEach(C),this.h()},h(){v(a,"id","queue_size"),v(a,"class","font-bold"),v(l,"href","https://huggingface.co/spaces/radames/Real-Time-Latent-Consistency-Model?duplicate=true"),v(l,"target","_blank"),v(l,"class","text-blue-500 underline hover:no-underline"),v(e,"class","text-sm")},m(h,p){O(h,e,p),E(e,t),E(e,a),E(a,r),E(e,o),E(e,n),E(e,s),E(e,l),E(e,b)},p(h,p){p&16&&_e(r,h[4]),p&8&&_e(n,h[3])},d(h){h&&C(e)}}}function Wn(i){let e,t,a,r,o="Loading...",n;return t=new Jn({props:{classList:"animate-spin opacity-50"}}),{c(){e=w("div"),z(t.$$.fragment),a=H(),r=w("p"),r.textContent=o,this.h()},l(s){e=R(s,"DIV",{class:!0});var l=T(e);q(t.$$.fragment,l),a=U(l),r=R(l,"P",{"data-svelte-h":!0}),ge(r)!=="svelte-qdsr2u"&&(r.textContent=o),l.forEach(C),this.h()},h(){v(e,"class","flex items-center justify-center gap-3 py-48 text-2xl")},m(s,l){O(s,e,l),j(t,e,null),E(e,a),E(e,r),n=!0},p:J,i(s){n||(A(t.$$.fragment,s),n=!0)},o(s){M(t.$$.fragment,s),n=!1},d(s){s&&C(e),X(t)}}}function Yn(i){let e,t,a,r,o,n,s,l,f,b,h,p=i[2]&&Et();return r=new cn({}),l=new et({props:{disabled:i[5],classList:"text-lg my-1 p-2",$$slots:{default:[Zn]},$$scope:{ctx:i}}}),l.$on("click",i[7]),b=new qn({props:{pipelineParams:i[0]}}),{c(){e=w("article"),p&&p.c(),t=H(),a=w("div"),z(r.$$.fragment),n=H(),s=w("div"),z(l.$$.fragment),f=H(),z(b.$$.fragment),this.h()},l(c){e=R(c,"ARTICLE",{class:!0});var _=T(e);p&&p.l(_),t=U(_),a=R(_,"DIV",{class:!0});var I=T(a);q(r.$$.fragment,I),I.forEach(C),n=U(_),s=R(_,"DIV",{class:!0});var B=T(s);q(l.$$.fragment,B),f=U(B),q(b.$$.fragment,B),B.forEach(C),_.forEach(C),this.h()},h(){v(a,"class",o=i[2]?"sm:col-start-2":"col-span-2"),v(s,"class","sm:col-span-2"),v(e,"class","my-3 grid grid-cols-1 gap-3 sm:grid-cols-2")},m(c,_){O(c,e,_),p&&p.m(e,null),E(e,t),E(e,a),j(r,a,null),E(e,n),E(e,s),j(l,s,null),E(s,f),j(b,s,null),h=!0},p(c,_){c[2]?p?_&4&&A(p,1):(p=Et(),p.c(),A(p,1),p.m(e,t)):p&&(ce(),M(p,1,1,()=>{p=null}),fe()),(!h||_&4&&o!==(o=c[2]?"sm:col-start-2":"col-span-2"))&&v(a,"class",o);const I={};_&32&&(I.disabled=c[5]),_&16448&&(I.$$scope={dirty:_,ctx:c}),l.$set(I);const B={};_&1&&(B.pipelineParams=c[0]),b.$set(B)},i(c){h||(A(p),A(r.$$.fragment,c),A(l.$$.fragment,c),A(b.$$.fragment,c),h=!0)},o(c){M(p),M(r.$$.fragment,c),M(l.$$.fragment,c),M(b.$$.fragment,c),h=!1},d(c){c&&C(e),p&&p.d(),X(r),X(l),X(b)}}}function Et(i){let e,t,a;return t=new bn({}),{c(){e=w("div"),z(t.$$.fragment),this.h()},l(r){e=R(r,"DIV",{class:!0});var o=T(e);q(t.$$.fragment,o),o.forEach(C),this.h()},h(){v(e,"class","sm:col-start-1")},m(r,o){O(r,e,o),j(t,e,null),a=!0},i(r){a||(A(t.$$.fragment,r),a=!0)},o(r){M(t.$$.fragment,r),a=!1},d(r){r&&C(e),X(t)}}}function Qn(i){let e;return{c(){e=W("Start")},l(t){e=Y(t,"Start")},m(t,a){O(t,e,a)},d(t){t&&C(e)}}}function Kn(i){let e;return{c(){e=W("Stop")},l(t){e=Y(t,"Stop")},m(t,a){O(t,e,a)},d(t){t&&C(e)}}}function Zn(i){let e;function t(o,n){return o[6]?Kn:Qn}let a=t(i),r=a(i);return{c(){r.c(),e=ue()},l(o){r.l(o),e=ue()},m(o,n){r.m(o,n),O(o,e,n)},p(o,n){a!==(a=t(o))&&(r.d(1),r=a(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&C(e),r.d(o)}}}function ei(i){var m,g;let e,t,a,r="Real-Time Latent Consistency Model",o,n,s,l=`This demo showcases
      <a href="https://huggingface.co/blog/lcm_lora" target="_blank" class="text-blue-500 underline hover:no-underline">LCM LoRA</a>
      Image to Image pipeline using
      <a href="https://huggingface.co/docs/diffusers/main/en/using-diffusers/lcm#performing-inference-with-lcm" target="_blank" class="text-blue-500 underline hover:no-underline">Diffusers</a> with a MJPEG stream server.`,f,b,h='Change the prompt to generate different images, accepts <a href="https://github.com/damian0815/compel/blob/main/doc/syntax.md" target="_blank" class="text-blue-500 underline hover:no-underline">Compel</a> syntax.',p,c,_,I,B,P=((g=(m=i[1])==null?void 0:m.title)==null?void 0:g.default)&&Pt(i),k=i[3]>0&&Ct(i);const V=[Yn,Wn],F=[];function u(y,S){return y[0]?0:1}return _=u(i),I=F[_]=V[_](i),{c(){e=w("main"),t=w("article"),a=w("h1"),a.textContent=r,o=H(),P&&P.c(),n=H(),s=w("p"),s.innerHTML=l,f=H(),b=w("p"),b.innerHTML=h,p=H(),k&&k.c(),c=H(),I.c(),this.h()},l(y){e=R(y,"MAIN",{class:!0});var S=T(e);t=R(S,"ARTICLE",{class:!0});var d=T(t);a=R(d,"H1",{class:!0,"data-svelte-h":!0}),ge(a)!=="svelte-14nlvbe"&&(a.textContent=r),o=U(d),P&&P.l(d),n=U(d),s=R(d,"P",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-8ygf88"&&(s.innerHTML=l),f=U(d),b=R(d,"P",{class:!0,"data-svelte-h":!0}),ge(b)!=="svelte-61hhd2"&&(b.innerHTML=h),p=U(d),k&&k.l(d),d.forEach(C),c=U(S),I.l(S),S.forEach(C),this.h()},h(){v(a,"class","text-3xl font-bold"),v(s,"class","text-sm"),v(b,"class","text-sm text-gray-500"),v(t,"class","text-center"),v(e,"class","container mx-auto flex max-w-5xl flex-col gap-3 px-4 py-4")},m(y,S){O(y,e,S),E(e,t),E(t,a),E(t,o),P&&P.m(t,null),E(t,n),E(t,s),E(t,f),E(t,b),E(t,p),k&&k.m(t,null),E(e,c),F[_].m(e,null),B=!0},p(y,[S]){var L,x;(x=(L=y[1])==null?void 0:L.title)!=null&&x.default?P?P.p(y,S):(P=Pt(y),P.c(),P.m(t,n)):P&&(P.d(1),P=null),y[3]>0?k?k.p(y,S):(k=Ct(y),k.c(),k.m(t,null)):k&&(k.d(1),k=null);let d=_;_=u(y),_===d?F[_].p(y,S):(ce(),M(F[d],1,1,()=>{F[d]=null}),fe(),I=F[_],I?I.p(y,S):(I=F[_]=V[_](y),I.c()),A(I,1),I.m(e,null))},i(y){B||(A(I),B=!0)},o(y){M(I),B=!1},d(y){y&&C(e),P&&P.d(),k&&k.d(),F[_].d()}}}function ti(i,e,t){let a,r,o,n;oe(i,se,P=>t(8,r=P)),oe(i,Yt,P=>t(9,o=P)),oe(i,Dt,P=>t(10,n=P));let s,l,f=!1,b=0,h=0;Se(()=>{p()});async function p(){const P=await fetch("/settings").then(k=>k.json());t(0,s=Object.values(P.input_params.properties)),t(1,l=P.info.properties),t(2,f=l.input_mode.default===Rt.IMAGE),t(3,b=P.max_queue_size),t(0,s=s.filter(k=>(k==null?void 0:k.disabled)!==!0)),b>0&&(c(),setInterval(()=>{c()},2e3))}async function c(){const P=await fetch("/queue_size").then(k=>k.json());t(4,h=P.queue_size)}function _(){return f?[Be(),n==null?void 0:n.blob]:[o]}let I=!1;async function B(){a?(f&&Oe.stop(),ot.stop()):(f&&(await Oe.enumerateDevices(),await Oe.start()),t(5,I=!0),await ot.start(_),t(5,I=!1))}return i.$$.update=()=>{i.$$.dirty&256&&t(6,a=r!==Ze.DISCONNECTED)},[s,l,f,b,h,I,a,B,r]}class li extends Z{constructor(e){super(),ee(this,e,ti,ei,K,{})}}export{li as component,ri as universal};
